import{r as H,g as gf}from"./vendor-4a124de7.js";var ma={exports:{}},Ar={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=H,vf=Symbol.for("react.element"),xf=Symbol.for("react.fragment"),Ef=Object.prototype.hasOwnProperty,Pf=wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Af={key:!0,ref:!0,__self:!0,__source:!0};function ya(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Ef.call(t,r)&&!Af.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:vf,type:e,key:o,ref:i,props:s,_owner:Pf.current}}Ar.Fragment=xf;Ar.jsx=ya;Ar.jsxs=ya;ma.exports=Ar;var Sf=ma.exports,Nn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},If={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},$f=class{#e=If;#n=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},xs=new $f;function Cf(e){setTimeout(e,0)}var Sr=typeof window>"u"||"Deno"in globalThis;function le(){}function Bf(e,t){return typeof e=="function"?e(t):e}function Of(e){return typeof e=="number"&&e>=0&&e!==1/0}function Tf(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Es(e,t){return typeof e=="function"?e(t):e}function kf(e,t){return typeof e=="function"?e(t):e}function ai(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==po(i,t.options))return!1}else if(!nn(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function ci(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(lt(t.options.mutationKey)!==lt(o))return!1}else if(!nn(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function po(e,t){return(t?.queryKeyHashFn||lt)(e)}function lt(e){return JSON.stringify(e,(t,n)=>Ps(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function nn(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>nn(e[n],t[n])):!1}var Rf=Object.prototype.hasOwnProperty;function ga(e,t){if(e===t)return e;const n=ui(e)&&ui(t);if(!n&&!(Ps(e)&&Ps(t)))return t;const s=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),i=o.length,a=n?new Array(i):{};let c=0;for(let u=0;u<i;u++){const f=n?u:o[u],d=e[f],l=t[f];if(d===l){a[f]=d,(n?u<s:Rf.call(e,f))&&c++;continue}if(d===null||l===null||typeof d!="object"||typeof l!="object"){a[f]=l;continue}const h=ga(d,l);a[f]=h,h===d&&c++}return s===i&&c===s?e:a}function Nf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ui(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ps(e){if(!fi(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!fi(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fi(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mf(e){return new Promise(t=>{xs.setTimeout(t,e)})}function _f(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ga(e,t):t}function jf(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function zf(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var bo=Symbol();function wa(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===bo?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ff(e,t){return typeof e=="function"?e(...t):!!e}var Uf=class extends Nn{#e;#n;#t;constructor(){super(),this.#t=e=>{if(!Sr&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(e){this.#t=e,this.#n?.(),this.#n=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},va=new Uf;function Lf(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Df=Cf;function qf(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=Df;const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Q=qf(),Hf=class extends Nn{#e=!0;#n;#t;constructor(){super(),this.#t=e=>{if(!Sr&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(e){this.#t=e,this.#n?.(),this.#n=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},dr=new Hf;function Gf(e){return Math.min(1e3*2**e,3e4)}function xa(e){return(e??"online")==="online"?dr.isOnline():!0}var As=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ea(e){let t=!1,n=0,r;const s=Lf(),o=()=>s.status!=="pending",i=p=>{if(!o()){const m=new As(p);l(m),e.onCancel?.(m)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>va.isFocused()&&(e.networkMode==="always"||dr.isOnline())&&e.canRun(),f=()=>xa(e.networkMode)&&e.canRun(),d=p=>{o()||(r?.(),s.resolve(p))},l=p=>{o()||(r?.(),s.reject(p))},h=()=>new Promise(p=>{r=m=>{(o()||u())&&p(m)},e.onPause?.()}).then(()=>{r=void 0,o()||e.onContinue?.()}),b=()=>{if(o())return;let p;const m=n===0?e.initialPromise:void 0;try{p=m??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(d).catch(x=>{if(o())return;const P=e.retry??(Sr?0:3),v=e.retryDelay??Gf,g=typeof v=="function"?v(n,x):v,y=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,x);if(t||!y){l(x);return}n++,e.onFail?.(n,x),Mf(g).then(()=>u()?void 0:h()).then(()=>{t?l(x):b()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r?.(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?b():h().then(b),s)}}var Pa=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Of(this.gcTime)&&(this.#e=xs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sr?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(xs.clearTimeout(this.#e),this.#e=void 0)}},Vf=class extends Pa{#e;#n;#t;#s;#r;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#t=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=di(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=di(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(e,t){const n=_f(this.state.data,e,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(le).catch(le):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>kf(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bo||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Es(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Tf(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(c=>c.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const a=wa(this.options,t),u=(()=>{const f={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#a=!1,this.options.persister?this.options.persister(a,u,this):a(u)},i=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(a),a})();this.options.behavior?.onFetch(i,this),this.#n=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#o({type:"fetch",meta:i.fetchOptions?.meta}),this.#r=Ea({initialPromise:t?.initialPromise,fn:i.fetchFn,onCancel:a=>{a instanceof As&&a.revert&&this.setState({...this.#n,fetchStatus:"idle"}),n.abort()},onFail:(a,c)=>{this.#o({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#t.config.onSuccess?.(a,this),this.#t.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof As){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#o({type:"error",error:a}),this.#t.config.onError?.(a,this),this.#t.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#o(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Wf(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#n=e.manual?r:void 0,r;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Q.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:e})})}};function Wf(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xa(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function di(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function li(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let f=!1;const d=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},l=wa(t.options,t.fetchOptions),h=async(b,p,m)=>{if(f)return Promise.reject();if(p==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:p,direction:m?"backward":"forward",meta:t.options.meta};return d(E),E})(),v=await l(P),{maxPages:g}=t.options,y=m?zf:jf;return{pages:y(b.pages,v,g),pageParams:y(b.pageParams,p,g)}};if(s&&o.length){const b=s==="backward",p=b?Kf:hi,m={pages:o,pageParams:i},x=p(r,m);a=await h(m,x,b)}else{const b=e??o.length;do{const p=c===0?i[0]??r.initialPageParam:hi(r,a);if(c>0&&p==null)break;a=await h(a,p),c++}while(c<b)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function hi(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Kf(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Zf=class extends Pa{#e;#n;#t;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#n=[],this.state=e.state||Aa(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#n.includes(e)||(this.#n.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#n=this.#n.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#n.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Ea({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,i)=>{this.#r({type:"failed",failureCount:o,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this,n);const i=await this.options.onMutate?.(e,n);i!==this.state.context&&this.#r({type:"pending",context:i,variables:e,isPaused:s})}const o=await this.#s.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this,n),await this.options.onError?.(o,e,this.state.context,n),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,e,this.state.context,n),o}finally{this.#r({type:"error",error:o})}}finally{this.#t.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Q.batch(()=>{this.#n.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Aa(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qf=class extends Nn{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#n=new Map,this.#t=0}#e;#n;#t;build(e,t,n){const r=new Zf({client:e,mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=Jn(e);if(typeof t=="string"){const n=this.#n.get(t);n?n.push(e):this.#n.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Jn(e);if(typeof t=="string"){const n=this.#n.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#n.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Jn(e);if(typeof t=="string"){const r=this.#n.get(t)?.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Jn(e);return typeof t=="string"?this.#n.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Q.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#n.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>ci(t,n))}findAll(e={}){return this.getAll().filter(t=>ci(e,t))}notify(e){Q.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Q.batch(()=>Promise.all(e.map(t=>t.continue().catch(le))))}};function Jn(e){return e.options.scope?.id}var Yf=class extends Nn{#e;#n=void 0;#t;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),Nf(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),t?.mutationKey&&this.options.mutationKey&&lt(t.mutationKey)!==lt(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#i(e)}getCurrentResult(){return this.#n}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#r(),this.#i()}mutate(e,t){return this.#s=t,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(e)}#r(){const e=this.#t?.state??Aa();this.#n={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){Q.batch(()=>{if(this.#s&&this.hasListeners()){const t=this.#n.variables,n=this.#n.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,t,n,r),this.#s.onSettled?.(e.data,null,t,n,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,n,r),this.#s.onSettled?.(void 0,e.error,t,n,r))}this.listeners.forEach(t=>{t(this.#n)})})}},Jf=class extends Nn{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??po(r,t);let o=this.get(s);return o||(o=new Vf({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Q.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>ai(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>ai(e,n)):t}notify(e){Q.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Q.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Q.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zy=class{#e;#n;#t;#s;#r;#i;#a;#o;constructor(e={}){this.#e=e.queryCache||new Jf,this.#n=e.mutationCache||new Qf,this.#t=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#a=va.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=dr.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#n.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Es(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(r.queryHash)?.state.data,i=Bf(t,o);if(i!==void 0)return this.#e.build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Q.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Q.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Q.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Q.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(le).catch(le)}invalidateQueries(e,t={}){return Q.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Q.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(le)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(le)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Es(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(le).catch(le)}fetchInfiniteQuery(e){return e.behavior=li(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(le).catch(le)}ensureInfiniteQueryData(e){return e.behavior=li(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dr.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#n}getDefaultOptions(){return this.#t}setDefaultOptions(e){this.#t=e}setQueryDefaults(e,t){this.#s.set(lt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(r=>{nn(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(lt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{nn(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#t.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=po(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===bo&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#t.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#n.clear()}},Sa=H.createContext(void 0),Xf=e=>{const t=H.useContext(Sa);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Fy=({client:e,children:t})=>(H.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Sf.jsx(Sa.Provider,{value:e,children:t}));function mo(e,t){const n=Xf(t),[r]=H.useState(()=>new Yf(n,e));H.useEffect(()=>{r.setOptions(e)},[r,e]);const s=H.useSyncExternalStore(H.useCallback(i=>r.subscribe(Q.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=H.useCallback((i,a)=>{r.mutate(i,a).catch(le)},[r]);if(s.error&&Ff(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const lr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Ss=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Ia=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],$a=[...Ia,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],e0=[...Ia,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],pi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],bi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ca=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],mi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function ge(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new h0(e.type);return`${e.name}(${Ir(e.inputs,{includeName:t})})`}function Ir(e,{includeName:t=!1}={}){return e?e.map(n=>t0(n,{includeName:t})).join(t?", ":","):""}function t0(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Ir(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function we(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function G(e){return we(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Ba="2.38.4";let Kr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Ba}`},S=class Is extends Error{constructor(t,n={}){const r=(()=>n.cause instanceof Is?n.cause.details:n.cause?.message?n.cause.message:n.details)(),s=(()=>n.cause instanceof Is&&n.cause.docsPath||n.docsPath)(),o=Kr.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Kr.version?[`Version: ${Kr.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Ba}walk(t){return Oa(this,t)}};function Oa(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Oa(e.cause,t):t?null:e}class n0 extends S{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class yi extends S{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Ta extends S{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Ir(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Mn extends S{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class r0 extends S{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class s0 extends S{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${G(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class o0 extends S{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class i0 extends S{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class gi extends S{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class ka extends S{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class a0 extends S{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Ra extends S{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class wi extends S{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class jt extends S{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Na extends S{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class c0 extends S{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class u0 extends S{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ge(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ge(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let f0=class extends S{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class rn extends S{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Ir(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class $r extends S{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ge(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class d0 extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class l0 extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Ma=class extends S{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class h0 extends S{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}let Ye=class extends S{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},_a=class extends S{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},ja=class extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class vi extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Ht(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ze(e,{dir:t,size:n}):p0(e,{dir:t,size:n})}function Ze(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new ja({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function p0(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new ja({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let za=class extends S{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},b0=class extends S{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class m0 extends S{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let y0=class extends S{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function ct(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Ae(e,{size:t}){if(G(e)>t)throw new y0({givenSize:G(e),maxSize:t})}function Te(e,t={}){const{signed:n}=t;t.size&&Ae(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function g0(e,t={}){let n=e;if(t.size&&(Ae(n,{size:t.size}),n=ct(n)),ct(n)==="0x00")return!1;if(ct(n)==="0x01")return!0;throw new m0(n)}function Fe(e,t={}){return Number(Te(e,t))}const w0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ue(e,t={}){return typeof e=="number"||typeof e=="bigint"?_(e,t):typeof e=="string"?sn(e,t):typeof e=="boolean"?Fa(e,t):W(e,t)}function Fa(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ae(n,{size:t.size}),Ht(n,{size:t.size})):n}function W(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=w0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Ae(r,{size:t.size}),Ht(r,{dir:"right",size:t.size})):r}function _(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new za({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ht(a,{size:r}):a}const v0=new TextEncoder;function sn(e,t={}){const n=v0.encode(e);return W(n,t)}const x0=new TextEncoder;function Gt(e,t={}){return typeof e=="number"||typeof e=="bigint"?P0(e,t):typeof e=="boolean"?E0(e,t):we(e)?ke(e,t):ut(e,t)}function E0(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Ae(n,{size:t.size}),Ht(n,{size:t.size})):n}const Re={zero:48,nine:57,A:65,F:70,a:97,f:102};function xi(e){if(e>=Re.zero&&e<=Re.nine)return e-Re.zero;if(e>=Re.A&&e<=Re.F)return e-(Re.A-10);if(e>=Re.a&&e<=Re.f)return e-(Re.a-10)}function ke(e,t={}){let n=e;t.size&&(Ae(n,{size:t.size}),n=Ht(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=xi(r.charCodeAt(a++)),u=xi(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new S(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function P0(e,t){const n=_(e,t);return ke(n)}function ut(e,t={}){const n=x0.encode(e);return typeof t.size=="number"?(Ae(n,{size:t.size}),Ht(n,{dir:"right",size:t.size})):n}const Xn=BigInt(2**32-1),Ei=BigInt(32);function A0(e,t=!1){return t?{h:Number(e&Xn),l:Number(e>>Ei&Xn)}:{h:Number(e>>Ei&Xn)|0,l:Number(e&Xn)|0}}function S0(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=A0(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const I0=(e,t,n)=>e<<n|t>>>32-n,$0=(e,t,n)=>t<<n|e>>>32-n,C0=(e,t,n)=>t<<n-32|e>>>64-n,B0=(e,t,n)=>e<<n-32|t>>>64-n,Ct=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function O0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function on(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ht(e,...t){if(!O0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function T0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");on(e.outputLen),on(e.blockLen)}function zt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ua(e,t){ht(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function k0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Ft(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Zr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Se(e,t){return e<<32-t|e>>>t}const R0=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function N0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function M0(e){for(let t=0;t<e.length;t++)e[t]=N0(e[t]);return e}const Pi=R0?e=>e:M0;function _0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Cr(e){return typeof e=="string"&&(e=_0(e)),ht(e),e}function j0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];ht(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class yo{}function La(e){const t=r=>e().update(Cr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Da(e=32){if(Ct&&typeof Ct.getRandomValues=="function")return Ct.getRandomValues(new Uint8Array(e));if(Ct&&typeof Ct.randomBytes=="function")return Uint8Array.from(Ct.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const z0=BigInt(0),Xt=BigInt(1),F0=BigInt(2),U0=BigInt(7),L0=BigInt(256),D0=BigInt(113),qa=[],Ha=[],Ga=[];for(let e=0,t=Xt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],qa.push(2*(5*r+n)),Ha.push((e+1)*(e+2)/2%64);let s=z0;for(let o=0;o<7;o++)t=(t<<Xt^(t>>U0)*D0)%L0,t&F0&&(s^=Xt<<(Xt<<BigInt(o))-Xt);Ga.push(s)}const Va=S0(Ga,!0),q0=Va[0],H0=Va[1],Ai=(e,t,n)=>n>32?C0(e,t,n):I0(e,t,n),Si=(e,t,n)=>n>32?B0(e,t,n):$0(e,t,n);function G0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=Ai(u,f,1)^n[a],l=Si(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Ha[i],c=Ai(s,o,a),u=Si(s,o,a),f=qa[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=q0[r],e[1]^=H0[r]}Ft(n)}class go extends yo{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,on(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=k0(this.state)}clone(){return this._cloneInto()}keccak(){Pi(this.state32),G0(this.state32,this.rounds),Pi(this.state32),this.posOut=0,this.pos=0}update(t){zt(this),t=Cr(t),ht(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){zt(this,!1),ht(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return on(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ua(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ft(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new go(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const V0=(e,t,n)=>La(()=>new go(t,e,n)),Wa=(()=>V0(1,136,256/8))();function Y(e,t){const n=t||"hex",r=Wa(we(e,{strict:!1})?Gt(e):e);return n==="bytes"?r:Ue(r)}let Br=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const W0=/^0x[a-fA-F0-9]{40}$/,Qr=new Br(8192);function pe(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Qr.has(r))return Qr.get(r);const s=(()=>W0.test(e)?e.toLowerCase()===e?!0:n?Or(e)===e:!0:!1)();return Qr.set(r,s),s}const Yr=new Br(8192);function Or(e,t){if(Yr.has(`${e}.${t}`))return Yr.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=Y(ut(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Yr.set(`${e}.${t}`,o),o}function ot(e,t){if(!pe(e,{strict:!1}))throw new Ye({address:e});return Or(e,t)}let Ii=class extends S{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Ka=class extends S{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},K0=class extends S{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Z0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new K0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ka({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ii({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ii({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function wo(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Z0);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Ut(e,t,n,{strict:r}={}){return we(e,{strict:!1})?Q0(e,t,n,{strict:r}):Ya(e,t,n,{strict:r})}function Za(e,t){if(typeof t=="number"&&t>0&&t>G(e)-1)throw new _a({offset:t,position:"start",size:G(e)})}function Qa(e,t,n){if(typeof t=="number"&&typeof n=="number"&&G(e)!==n-t)throw new _a({offset:n,position:"end",size:G(e)})}function Ya(e,t,n,{strict:r}={}){Za(e,t);const s=e.slice(t,n);return r&&Qa(s,t,n),s}function Q0(e,t,n,{strict:r}={}){Za(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Qa(s,t,n),s}function Y0(e,t={}){typeof t.size<"u"&&Ae(e,{size:t.size});const n=W(e,t);return Te(n,t)}function J0(e,t={}){let n=e;if(typeof t.size<"u"&&(Ae(n,{size:t.size}),n=ct(n)),n.length>1||n[0]>1)throw new b0(n);return!!n[0]}function je(e,t={}){typeof t.size<"u"&&Ae(e,{size:t.size});const n=W(e,t);return Fe(n,t)}function X0(e,t={}){let n=e;return typeof t.size<"u"&&(Ae(n,{size:t.size}),n=ct(n,{dir:"right"})),new TextDecoder().decode(n)}function ve(e){return typeof e[0]=="string"?Vt(e):ed(e)}function ed(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Vt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const td=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ja=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function tt(e,t){if(e.length!==t.length)throw new o0({expectedLength:e.length,givenLength:t.length});const n=nd({params:e,values:t}),r=xo(n);return r.length===0?"0x":r}function nd({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(vo({param:e[r],value:t[r]}));return n}function vo({param:e,value:t}){const n=Eo(e.type);if(n){const[r,s]=n;return sd(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return ud(t,{param:e});if(e.type==="address")return rd(t);if(e.type==="bool")return id(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Ja.exec(e.type)??[];return ad(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return od(t,{param:e});if(e.type==="string")return cd(t);throw new d0(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function xo(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=G(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(_(t+s,{size:32})),r.push(a),s+=G(a)):n.push(a)}return ve([...n,...r])}function rd(e){if(!pe(e))throw new Ye({address:e});return{dynamic:!1,encoded:Ze(e.toLowerCase())}}function sd(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Ma(e);if(!r&&e.length!==t)throw new r0({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=vo({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=xo(o);if(r){const a=_(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ve([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:ve(o.map(({encoded:i})=>i))}}function od(e,{param:t}){const[,n]=t.type.split("bytes"),r=G(e);if(!n){let s=e;return r%32!==0&&(s=Ze(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ve([Ze(_(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new s0({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ze(e,{dir:"right"})}}function id(e){if(typeof e!="boolean")throw new S(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ze(Fa(e))}}function ad(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new za({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:_(e,{size:32,signed:t})}}function cd(e){const t=sn(e),n=Math.ceil(G(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ze(Ut(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ve([Ze(_(G(t),{size:32})),...r])}}function ud(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=vo({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?xo(r):ve(r.map(({encoded:s})=>s))}}function Eo(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function _n(e,t){const n=typeof t=="string"?ke(t):t,r=wo(n);if(G(n)===0&&e.length>0)throw new Mn;if(G(t)&&G(t)<32)throw new Ta({data:typeof t=="string"?t:W(t),params:e,size:G(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=Nt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function Nt(e,t,{staticPosition:n}){const r=Eo(t.type);if(r){const[s,o]=r;return dd(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return bd(e,t,{staticPosition:n});if(t.type==="address")return fd(e);if(t.type==="bool")return ld(e);if(t.type.startsWith("bytes"))return hd(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return pd(e,t);if(t.type==="string")return md(e,{staticPosition:n});throw new l0(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const $i=32,$s=32;function fd(e){const t=e.readBytes(32);return[Or(W(Ya(t,-20))),32]}function dd(e,t,{length:n,staticPosition:r}){if(!n){const i=je(e.readBytes($s)),a=r+i,c=a+$i;e.setPosition(a);const u=je(e.readBytes($i)),f=an(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[b,p]=Nt(e,t,{staticPosition:c});d+=p,l.push(b)}return e.setPosition(r+32),[l,32]}if(an(t)){const i=je(e.readBytes($s)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=Nt(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=Nt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function ld(e){return[J0(e.readBytes(32),{size:32}),32]}function hd(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=je(e.readBytes(32));e.setPosition(n+i);const a=je(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[W(c),32]}return[W(e.readBytes(Number.parseInt(s,10),32)),32]}function pd(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Y0(s,{signed:n}):je(s,{signed:n}),32]}function bd(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(an(t)){const i=je(e.readBytes($s)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=Nt(e,u,{staticPosition:a});o+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=Nt(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function md(e,{staticPosition:t}){const n=je(e.readBytes(32)),r=t+n;e.setPosition(r);const s=je(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=X0(ct(o));return e.setPosition(t+32),[i,32]}function an(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(an);const n=Eo(e.type);return!!(n&&an({...e,type:n[1]}))}const yd=e=>Y(Gt(e));function gd(e){return yd(e)}const wd="1.1.0";let oe=class Cs extends Error{constructor(t,n={}){const r=n.cause instanceof Cs?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Cs&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${wd}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function qe(e,t){return e.exec(t)?.groups}const Xa=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ec=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,tc=/^\(.+?\).*?$/,Ci=/^tuple(?<array>(\[(\d*)\])*)$/;function Bs(e){let t=e.type;if(Ci.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Bs(o),s<n-1&&(t+=", ")}const r=qe(Ci,e.type);return t+=`)${r?.array??""}`,Bs({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Tt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Bs(s),r!==n-1&&(t+=", ")}return t}function hr(e){return e.type==="function"?`function ${e.name}(${Tt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Tt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Tt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Tt(e.inputs)})`:e.type==="constructor"?`constructor(${Tt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const nc=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function vd(e){return nc.test(e)}function xd(e){return qe(nc,e)}const rc=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ed(e){return rc.test(e)}function Pd(e){return qe(rc,e)}const sc=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Ad(e){return sc.test(e)}function Sd(e){return qe(sc,e)}const oc=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Tr(e){return oc.test(e)}function Id(e){return qe(oc,e)}const ic=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function $d(e){return ic.test(e)}function Cd(e){return qe(ic,e)}const ac=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Bd(e){return ac.test(e)}function Od(e){return qe(ac,e)}const Td=/^receive\(\) external payable$/;function kd(e){return Td.test(e)}const Bi=new Set(["memory","indexed","storage","calldata"]),Rd=new Set(["indexed"]),Os=new Set(["calldata","memory","storage"]);class Nd extends oe{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Md extends oe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class _d extends oe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class jd extends oe{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class zd extends oe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Fd extends oe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Ud extends oe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Ld extends oe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Dd extends oe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Wt extends oe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qd extends oe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Hd extends oe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Gd extends oe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Vd extends oe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Wd(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const Jr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ts(e,t={}){if(Ad(e))return Kd(e,t);if(Ed(e))return Zd(e,t);if(vd(e))return Qd(e,t);if($d(e))return Yd(e,t);if(Bd(e))return Jd(e);if(kd(e))return{type:"receive",stateMutability:"payable"};throw new qd({signature:e})}function Kd(e,t={}){const n=Sd(e);if(!n)throw new Wt({signature:e,type:"function"});const r=ce(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Le(r[a],{modifiers:Os,structs:t,type:"function"}));const i=[];if(n.returns){const a=ce(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Le(a[u],{modifiers:Os,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Zd(e,t={}){const n=Pd(e);if(!n)throw new Wt({signature:e,type:"event"});const r=ce(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Le(r[i],{modifiers:Rd,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Qd(e,t={}){const n=xd(e);if(!n)throw new Wt({signature:e,type:"error"});const r=ce(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Le(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Yd(e,t={}){const n=Cd(e);if(!n)throw new Wt({signature:e,type:"constructor"});const r=ce(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Le(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Jd(e){const t=Od(e);if(!t)throw new Wt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Xd=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,el=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,tl=/^u?int$/;function Le(e,t){const n=Wd(e,t?.type,t?.structs);if(Jr.has(n))return Jr.get(n);const r=tc.test(e),s=qe(r?el:Xd,e);if(!s)throw new zd({param:e});if(s.name&&rl(s.name))throw new Fd({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=ce(s.type),l=[],h=d.length;for(let b=0;b<h;b++)l.push(Le(d[b],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(tl.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!cc(c))throw new _d({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Ud({param:e,type:t?.type,modifier:s.modifier});if(Os.has(s.modifier)&&!sl(c,!!s.array))throw new Ld({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return Jr.set(n,f),f}function ce(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?ce(a,[...t,n.trim()]):ce(a,t,`${n}${i}`,r);case"(":return ce(a,t,`${n}${i}`,r+1);case")":return ce(a,t,`${n}${i}`,r-1);default:return ce(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Vd({current:n,depth:r});return t.push(n.trim()),t}function cc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Xa.test(e)||ec.test(e)}const nl=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function rl(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Xa.test(e)||ec.test(e)||nl.test(e)}function sl(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Po(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Tr(a))continue;const c=Id(a);if(!c)throw new Wt({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const b=u[l].trim();if(!b)continue;const p=Le(b,{type:"struct"});f.push(p)}if(!f.length)throw new Hd({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=uc(c,t)}return r}const ol=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function uc(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(tc.test(i.type))r.push(i);else{const c=qe(ol,i.type);if(!c?.type)throw new Dd({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Gd({type:f});r.push({...i,type:`tuple${u??""}`,components:uc(t[f]??[],t,new Set([...n,f]))})}else if(cc(f))r.push(i);else throw new Md({type:f})}}return r}function fc(e){const t=Po(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Tr(o)||n.push(Ts(o,t))}return n}function Oi(e){let t;if(typeof e=="string")t=Ts(e);else{const n=Po(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Tr(o)){t=Ts(o,n);break}}}if(!t)throw new Nd({signature:e});return t}function Ti(e){const t=[];if(typeof e=="string"){const n=ce(e),r=n.length;for(let s=0;s<r;s++)t.push(Le(n[s],{modifiers:Bi}))}else{const n=Po(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Tr(o))continue;const i=ce(o),a=i.length;for(let c=0;c<a;c++)t.push(Le(i[c],{modifiers:Bi,structs:n}))}}if(t.length===0)throw new jd({params:e});return t}function il(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new S("Unable to normalize signature.");return s}const al=e=>{const t=(()=>typeof e=="string"?e:hr(e))();return il(t)};function dc(e){return gd(al(e))}const kr=dc,jn=e=>Ut(dc(e),0,4);function xt(e){const{abi:t,args:n=[],name:r}=e,s=we(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?jn(a)===r:a.type==="event"?kr(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?ks(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=lc(a.inputs,i.inputs,n);if(u)throw new u0({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function ks(e,t){const n=typeof e,r=t.type;switch(r){case"address":return pe(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>ks(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>ks(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function lc(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return lc(s.components,o.components,n[r]);const i=[s.type,o.type];if((()=>i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?pe(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?pe(n[r],{strict:!1}):!1)())return i}}const Xr="/docs/contract/decodeFunctionResult";function Et(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=xt({abi:t,args:n,name:r});if(!a)throw new jt(r,{docsPath:Xr});o=a}if(o.type!=="function")throw new jt(void 0,{docsPath:Xr});if(!o.outputs)throw new Na(o.name,{docsPath:Xr});const i=_n(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const ki="/docs/contract/encodeFunctionData";function cl(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=xt({abi:t,args:n,name:r});if(!o)throw new jt(r,{docsPath:ki});s=o}if(s.type!=="function")throw new jt(void 0,{docsPath:ki});return{abi:[s],functionName:jn(ge(s))}}function be(e){const{args:t}=e,{abi:n,functionName:r}=(()=>e.abi.length===1&&e.functionName?.startsWith("0x")?e:cl(e))(),s=n[0],o=r,i="inputs"in s&&s.inputs?tt(s.inputs,t??[]):void 0;return Vt([o,i??"0x"])}class Rs extends S{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ul extends S{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class fl extends S{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class hc extends S{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function Kt({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Rs({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Rs({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ie(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const dl={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},pc={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},ll={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function bc(e){const{abi:t,data:n}=e,r=Ut(n,0,4);if(r==="0x")throw new Mn;const o=[...t||[],pc,ll].find(i=>i.type==="error"&&r===jn(ge(i)));if(!o)throw new ka(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?_n(o.inputs,Ut(n,4)):void 0,errorName:o.name}}const V=(e,t,n)=>JSON.stringify(e,(r,s)=>{const o=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,o):o},n);function mc({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?V(t[o]):t[o]}`).join(", ")})`}const hl={gwei:9,wei:18},pl={ether:-9,wei:9};function yc(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function Ao(e,t="wei"){return yc(e,hl[t])}function se(e,t="wei"){return yc(e,pl[t])}class bl extends S{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class ml extends S{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Ri(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function yl(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Ri(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Ri(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function zn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class gl extends S{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class wl extends S{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",zn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class vl extends S{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=zn({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:d,value:typeof l<"u"&&`${Ao(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${se(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${se(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${se(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class gc extends S{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class wc extends S{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class xl extends S{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class El extends S{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Pl=e=>e,Fn=e=>e;class vc extends S{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){const b=n?ie(n):void 0;let p=zn({from:b?.address,to:d,value:typeof l<"u"&&`${Ao(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${se(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${se(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${se(u)} gwei`,nonce:f});h&&(p+=`
${yl(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class xc extends S{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=xt({abi:n,args:r,name:i}),u=c?mc({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?ge(c,{includeName:!0}):void 0,d=zn({address:s&&Pl(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Ns extends S{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=bc({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=dl[h]}else{const h=f?ge(f,{includeName:!0}):void 0,b=f&&l?mc({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof ka&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class Al extends S{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Sl extends S{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Rr extends S{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function So(e){if(!(e instanceof S))return!1;const t=e.walk(n=>n instanceof Ns);return t instanceof Ns?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function Il(e){const{abi:t,data:n}=e,r=Ut(n,0,4),s=t.find(o=>o.type==="function"&&r===jn(ge(o)));if(!s)throw new c0(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?_n(s.inputs,Ut(n,4)):void 0}}const es="/docs/contract/encodeErrorResult";function Ni(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=xt({abi:t,args:r,name:n});if(!c)throw new gi(n,{docsPath:es});s=c}if(s.type!=="error")throw new gi(void 0,{docsPath:es});const o=ge(s),i=jn(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new i0(s.name,{docsPath:es});a=tt(s.inputs,r)}return Vt([i,a])}const ts="/docs/contract/encodeFunctionResult";function $l(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=xt({abi:t,name:n});if(!i)throw new jt(n,{docsPath:ts});s=i}if(s.type!=="function")throw new jt(void 0,{docsPath:ts});if(!s.outputs)throw new Na(s.name,{docsPath:ts});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Ma(r)})();return tt(s.outputs,o)}const Un="x-batch-gateway:true";async function Ec(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Il({abi:Ss,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(Un)?await Ec({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Cl(c)}})),$l({abi:Ss,functionName:"query",result:[s,o]})}function Cl(e){return e.name==="HttpRequestError"&&e.status?Ni({abi:Ss,errorName:"HttpError",args:[e.status,e.shortMessage]}):Ni({abi:[pc],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Pc(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return we(t)?t:null}function Ms(e){let t=new Uint8Array(32).fill(0);if(!e)return W(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Pc(n[r]),o=s?Gt(s):Y(ut(n[r]),"bytes");t=Y(ve([t,o]),"bytes")}return W(t)}function Bl(e){return`[${e.slice(2)}]`}function Ol(e){const t=new Uint8Array(32).fill(0);return e?Pc(e)||Y(ut(e)):W(t)}function Io(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(ut(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=ut(s[o]);i.byteLength>255&&(i=ut(Bl(Ol(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function j(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class ft extends S{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Fn(i)}`,t&&`Request body: ${V(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class $o extends S{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Fn(r)}`,`Request body: ${V(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Mi extends S{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Fn(n)}`,`Request body: ${V(t)}`],name:"TimeoutError"})}}const Tl=-1;class ae extends S{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof $o?t.code:n??Tl}}class fe extends ae{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class cn extends ae{constructor(t){super(t,{code:cn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class un extends ae{constructor(t){super(t,{code:un.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(un,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class fn extends ae{constructor(t,{method:n}={}){super(t,{code:fn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class dn extends ae{constructor(t){super(t,{code:dn.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class pt extends ae{constructor(t){super(t,{code:pt.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class bt extends ae{constructor(t){super(t,{code:bt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ln extends ae{constructor(t){super(t,{code:ln.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Qe extends ae{constructor(t){super(t,{code:Qe.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class hn extends ae{constructor(t){super(t,{code:hn.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class it extends ae{constructor(t,{method:n}={}){super(t,{code:it.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Lt extends ae{constructor(t){super(t,{code:Lt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class pn extends ae{constructor(t){super(t,{code:pn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class X extends fe{constructor(t){super(t,{code:X.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(X,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class bn extends fe{constructor(t){super(t,{code:bn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class mn extends fe{constructor(t,{method:n}={}){super(t,{code:mn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class yn extends fe{constructor(t){super(t,{code:yn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(yn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class gn extends fe{constructor(t){super(t,{code:gn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class mt extends fe{constructor(t){super(t,{code:mt.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class wn extends fe{constructor(t){super(t,{code:wn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class vn extends fe{constructor(t){super(t,{code:vn.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class xn extends fe{constructor(t){super(t,{code:xn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class En extends fe{constructor(t){super(t,{code:En.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Pn extends fe{constructor(t){super(t,{code:Pn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class An extends fe{constructor(t){super(t,{code:An.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Sn extends fe{constructor(t){super(t,{code:Sn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class kl extends ae{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Rl=3;function yt(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Rr?e:e instanceof S?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=(()=>e instanceof Mn?new Al({functionName:o}):[Rl,pt.code].includes(c)&&(u||f||d||l)?new Ns({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof $o?f:l??d}):e)();return new xc(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}const Nl="modulepreload",Ml=function(e){return"/"+e},_i={},Ac=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Ml(o),o in _i)return;_i[o]=!0;const i=o.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===o&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":Nl,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Co=BigInt(0),_s=BigInt(1);function Ln(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Je(e){if(!Ln(e))throw new Error("Uint8Array expected")}function In(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function er(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Sc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Co:BigInt("0x"+e)}const Ic=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",_l=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $n(e){if(Je(e),Ic)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=_l[e[n]];return t}const Ne={_0:48,_9:57,A:65,F:70,a:97,f:102};function ji(e){if(e>=Ne._0&&e<=Ne._9)return e-Ne._0;if(e>=Ne.A&&e<=Ne.F)return e-(Ne.A-10);if(e>=Ne.a&&e<=Ne.f)return e-(Ne.a-10)}function pr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Ic)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=ji(e.charCodeAt(o)),a=ji(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function Be(e){return Sc($n(e))}function $c(e){return Je(e),Sc($n(Uint8Array.from(e).reverse()))}function Pt(e,t){return pr(e.toString(16).padStart(t*2,"0"))}function Cc(e,t){return Pt(e,t).reverse()}function Z(e,t,n){let r;if(typeof t=="string")try{r=pr(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Ln(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function he(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Je(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function Bo(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const ns=e=>typeof e=="bigint"&&Co<=e;function Cn(e,t,n){return ns(e)&&ns(t)&&ns(n)&&t<=e&&e<n}function dt(e,t,n,r){if(!Cn(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function jl(e){let t;for(t=0;e>Co;e>>=_s,t+=1);return t}const Nr=e=>(_s<<BigInt(e))-_s,rs=e=>new Uint8Array(e),zi=e=>Uint8Array.from(e);function zl(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=rs(e),s=rs(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=rs(0))=>{s=a(zi([0]),d),r=a(),d.length!==0&&(s=a(zi([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return he(...l)};return(d,l)=>{i(),c(d);let h;for(;!(h=l(u()));)c();return i(),h}}const Fl={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ln(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Dn(e,t,n={}){const r=(s,o,i)=>{const a=Fl[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Fi(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const Ul="0.1.1";function Ll(){return Ul}let U=class js extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof js){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=(()=>n.cause instanceof js&&n.cause.docsPath||n.docsPath)(),i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Ll()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return Bc(this,t)}};function Bc(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Bc(e.cause,t):t?null:e}function qn(e,t){if($e(e)>t)throw new ih({givenSize:$e(e),maxSize:t})}function Dl(e,t){if(typeof t=="number"&&t>0&&t>$e(e)-1)throw new Mc({offset:t,position:"start",size:$e(e)})}function ql(e,t,n){if(typeof t=="number"&&typeof n=="number"&&$e(e)!==n-t)throw new Mc({offset:n,position:"end",size:$e(e)})}const Me={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ui(e){if(e>=Me.zero&&e<=Me.nine)return e-Me.zero;if(e>=Me.A&&e<=Me.F)return e-(Me.A-10);if(e>=Me.a&&e<=Me.f)return e-(Me.a-10)}function Hl(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new ah({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Oc(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Mr(e,t){if(ue(e)>t)throw new hh({givenSize:ue(e),maxSize:t})}function Gl(e,t){if(typeof t=="number"&&t>0&&t>ue(e)-1)throw new Uc({offset:t,position:"start",size:ue(e)})}function Vl(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ue(e)!==n-t)throw new Uc({offset:n,position:"end",size:ue(e)})}function Tc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new ph({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Wl="#__bigint";function kc(e,t,n){return JSON.stringify(e,(r,s)=>typeof t=="function"?t(r,s):typeof s=="bigint"?s.toString()+Wl:s,n)}const Kl=new TextDecoder,Zl=new TextEncoder;function Ql(e){return e instanceof Uint8Array?e:typeof e=="string"?Rc(e):Yl(e)}function Yl(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Rc(e,t={}){const{size:n}=t;let r=e;n&&(Mr(e,n),r=wt(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Ui(s.charCodeAt(c++)),f=Ui(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new U(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+f}return i}function Jl(e,t={}){const{size:n}=t,r=Zl.encode(e);return typeof n=="number"?(qn(r,n),Xl(r,n)):r}function Xl(e,t){return Hl(e,{dir:"right",size:t})}function $e(e){return e.length}function eh(e,t,n,r={}){const{strict:s}=r;Dl(e,t);const o=e.slice(t,n);return s&&ql(o,t,n),o}function th(e,t={}){const{size:n}=t;typeof n<"u"&&qn(e,n);const r=Ee(e,t);return jc(r,t)}function nh(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(qn(r,n),r=Nc(r)),r.length>1||r[0]>1)throw new oh(r);return!!r[0]}function ze(e,t={}){const{size:n}=t;typeof n<"u"&&qn(e,n);const r=Ee(e,t);return zc(r,t)}function rh(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(qn(r,n),r=sh(r)),Kl.decode(r)}function Nc(e){return Oc(e,{dir:"left"})}function sh(e){return Oc(e,{dir:"right"})}class oh extends U{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let ih=class extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Mc=class extends U{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}},ah=class extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const ch=new TextEncoder,uh=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function fh(e,t={}){const{strict:n=!1}=t;if(!e)throw new Li(e);if(typeof e!="string")throw new Li(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Di(e);if(!e.startsWith("0x"))throw new Di(e)}function xe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function dh(e){return e instanceof Uint8Array?Ee(e):Array.isArray(e)?Ee(new Uint8Array(e)):e}function _c(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Mr(n,t.size),gt(n,t.size)):n}function Ee(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=uh[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Mr(r,t.size),wt(r,t.size)):r}function ee(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new Fc({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?gt(c,r):c}function Oo(e,t={}){return Ee(ch.encode(e),t)}function gt(e,t){return Tc(e,{dir:"left",size:t})}function wt(e,t){return Tc(e,{dir:"right",size:t})}function Oe(e,t,n,r={}){const{strict:s}=r;Gl(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Vl(o,t,n),o}function ue(e){return Math.ceil((e.length-2)/2)}function jc(e,t={}){const{signed:n}=t;t.size&&Mr(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function zc(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:jc(e,t))}function lh(e,t={}){const{strict:n=!1}=t;try{return fh(e,{strict:n}),!0}catch{return!1}}class Fc extends U{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Li extends U{constructor(t){super(`Value \`${typeof t=="object"?kc(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Di extends U{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class hh extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Uc extends U{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class ph extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function bh(e){return{address:e.address,amount:ee(e.amount),index:ee(e.index),validatorIndex:ee(e.validatorIndex)}}function Lc(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:ee(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:ee(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:ee(e.gasLimit)},...typeof e.number=="bigint"&&{number:ee(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:ee(e.prevRandao)},...typeof e.time=="bigint"&&{time:ee(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(bh)}}}const mh="0x82ad56cb",Dc="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",yh="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",gh="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",To="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",ss="/docs/contract/encodeDeployData";function ko(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new n0({docsPath:ss});if(!("inputs"in s))throw new yi({docsPath:ss});if(!s.inputs||s.inputs.length===0)throw new yi({docsPath:ss});const o=tt(s.inputs,n);return Vt([r,o])}class kt extends S{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(kt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class br extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${se(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(br,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class zs extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${se(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Fs extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Fs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Us extends S{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Us,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ls extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Ls,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ds extends S{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class qs extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(qs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Hs extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Hs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Gs extends S{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Gs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class mr extends S{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${se(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${se(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Hn extends S{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function _r(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof S?e.walk(s=>s?.code===kt.code):e;return r instanceof S?new kt({cause:e,message:r.details}):kt.nodeMessage.test(n)?new kt({cause:e,message:e.details}):br.nodeMessage.test(n)?new br({cause:e,maxFeePerGas:t?.maxFeePerGas}):zs.nodeMessage.test(n)?new zs({cause:e,maxFeePerGas:t?.maxFeePerGas}):Fs.nodeMessage.test(n)?new Fs({cause:e,nonce:t?.nonce}):Us.nodeMessage.test(n)?new Us({cause:e,nonce:t?.nonce}):Ls.nodeMessage.test(n)?new Ls({cause:e,nonce:t?.nonce}):Ds.nodeMessage.test(n)?new Ds({cause:e}):qs.nodeMessage.test(n)?new qs({cause:e,gas:t?.gas}):Hs.nodeMessage.test(n)?new Hs({cause:e,gas:t?.gas}):Gs.nodeMessage.test(n)?new Gs({cause:e}):mr.nodeMessage.test(n)?new mr({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Hn({cause:e})}function qc(e,{docsPath:t,...n}){const r=(()=>{const s=_r(e,n);return s instanceof Hn?e:s})();return new vc(r,{docsPath:t,...n})}function jr(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const wh={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Gn(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=vh(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>W(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=_(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=_(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=_(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=_(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=_(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=_(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=wh[e.type]),typeof e.value<"u"&&(n.value=_(e.value)),n}function vh(e){return e.map(t=>({address:t.address,r:t.r?_(BigInt(t.r)):t.r,s:t.s?_(BigInt(t.s)):t.s,chainId:_(t.chainId),nonce:_(t.nonce),...typeof t.yParity<"u"?{yParity:_(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:_(t.v)}:{}}))}function Hc(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const os=new Map;function Gc({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=c();i();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:b}=f[h];b?.([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:b}=f[h];b?.(l)}})},i=()=>os.delete(t),a=()=>c().map(({args:f})=>f),c=()=>os.get(t)||[],u=f=>os.set(t,[...c(),f]);return{flush:i,async schedule(f){const{promise:d,resolve:l,reject:h}=Hc();return n?.([...a(),f])&&o(),c().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(o,r),d)}}}function qi(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new vi({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new vi({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function xh(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=_(t)),n!==void 0&&(i.nonce=_(n)),r!==void 0&&(i.state=qi(r)),s!==void 0){if(i.state)throw new ml;i.stateDiff=qi(s)}return i}function Ro(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!pe(n,{strict:!1}))throw new Ye({address:n});if(t[n])throw new bl({address:n});t[n]=xh(r)}return t}const Eh=2n**256n-1n;function Zt(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?ie(t):void 0;if(i&&!pe(i.address))throw new Ye({address:i.address});if(o&&!pe(o))throw new Ye({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new gl;if(r&&r>Eh)throw new br({maxFeePerGas:r});if(s&&r&&s>r)throw new mr({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function Vn(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:x,maxPriorityFeePerGas:P,nonce:v,to:g,value:y,stateOverride:E,...w}=t,A=n?ie(n):void 0;if(f&&(l||h))throw new S("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&g)throw new S("Cannot provide both `code` & `to` as parameters.");const I=f&&d,C=l&&h&&g&&d,B=I||C,k=(()=>I?Vc({code:f,data:d}):C?Sh({data:d,factory:l,factoryData:h,to:g}):d)();try{Zt(t);const F=(typeof o=="bigint"?_(o):void 0)||i,O=u?Lc(u):void 0,$=Ro(E),M=e.chain?.formatters?.transactionRequest?.format,N=(M||Gn)({...jr(w,{format:M}),accessList:a,account:A,authorizationList:r,blobs:c,data:k,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:x,maxPriorityFeePerGas:P,nonce:v,to:B?void 0:g,value:y},"call");if(s&&Ph({request:N})&&!$&&!O)try{return await Ah(e,{...N,blockNumber:o,blockTag:i})}catch(q){if(!(q instanceof hc)&&!(q instanceof Rs))throw q}const z=(()=>{const q=[N,F];return $&&O?[...q,$,O]:$?[...q,$]:O?[...q,{},O]:q})(),L=await e.request({method:"eth_call",params:z});return L==="0x"?{data:void 0}:{data:L}}catch(R){const F=Ih(R),{offchainLookup:O,offchainLookupSignature:$}=await Ac(()=>Promise.resolve().then(()=>Gp),void 0);if(e.ccipRead!==!1&&F?.slice(0,10)===$&&g)return{data:await O(e,{data:F,to:g})};throw B&&F?.slice(0,10)==="0x101bb98d"?new Sl({factory:l}):qc(R,{...t,account:A,chain:e.chain})}}function Ph({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(mh)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Ah(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Kt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new hc})(),d=(typeof o=="bigint"?_(o):void 0)||i,{schedule:l}=Gc({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(p){return p.reduce((x,{data:P})=>x+(P.length-2),0)>n*2},fn:async p=>{const m=p.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),x=be({abi:lr,args:[m],functionName:"aggregate3"}),P=await e.request({method:"eth_call",params:[{...u===null?{data:Vc({code:To,data:x})}:{to:u,data:x}},d]});return Et({abi:lr,args:[m],functionName:"aggregate3",data:P||"0x"})}}),[{returnData:h,success:b}]=await l({data:a,to:c});if(!b)throw new Rr({data:h});return h==="0x"?{data:void 0}:{data:h}}function Vc(e){const{code:t,data:n}=e;return ko({abi:fc(["constructor(bytes, bytes)"]),bytecode:Dc,args:[t,n]})}function Sh(e){const{data:t,factory:n,factoryData:r,to:s}=e;return ko({abi:fc(["constructor(address, bytes, address, bytes)"]),bytecode:yh,args:[s,t,n,r]})}function Ih(e){if(!(e instanceof S))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function Pe(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=be({abi:n,args:s,functionName:o});try{const{data:c}=await j(e,Vn,"call")({...i,data:a,to:r});return Et({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw yt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function $h(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Kt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=(()=>s!=null?[Ms(o),BigInt(s)]:[Ms(o)])();try{const l=be({abi:bi,functionName:"addr",args:d}),h={address:u,abi:$a,functionName:"resolveWithGateways",args:[Ue(Io(o)),l,i??[Un]],blockNumber:n,blockTag:r},p=await j(e,Pe,"readContract")(h);if(p[0]==="0x")return null;const m=Et({abi:bi,args:d,functionName:"addr",data:p[0]});return m==="0x"||ct(m)==="0x00"?null:m}catch(l){if(a)throw l;if(So(l))return null;throw l}}class Ch extends S{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class en extends S{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class No extends S{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Bh extends S{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Oh=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Th=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,kh=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Rh=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Nh(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Hi(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Wc({uri:e,gatewayUrls:t}){const n=kh.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Hi(t?.ipfs,"https://ipfs.io"),s=Hi(t?.arweave,"https://arweave.net"),o=e.match(Oh),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||Th.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(Rh,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new No({uri:e})}function Kc(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ch({data:e});return e.image||e.image_url||e.image_data}async function Mh({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Mo({gatewayUrls:e,uri:Kc(n)})}catch{throw new No({uri:t})}}async function Mo({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Wc({uri:t,gatewayUrls:e});if(r||await Nh(n))return n;throw new No({uri:t})}function _h(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new en({reason:"Only EIP-155 supported"});if(!i)throw new en({reason:"Chain ID not found"});if(!c)throw new en({reason:"Contract address not found"});if(!s)throw new en({reason:"Token ID not found"});if(!a)throw new en({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function jh(e,{nft:t}){if(t.namespace==="erc721")return Pe(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Pe(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Bh({namespace:t.namespace})}async function zh(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Fh(e,{gatewayUrls:t,record:n}):Mo({uri:n,gatewayUrls:t})}async function Fh(e,{gatewayUrls:t,record:n}){const r=_h(n),s=await jh(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Wc({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Mo({uri:Kc(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Mh({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Zc(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Kt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:$a,args:[Ue(Io(o)),be({abi:pi,functionName:"text",args:[Ms(o),s]}),i??[Un]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await j(e,Pe,"readContract")(d);if(h[0]==="0x")return null;const b=Et({abi:pi,functionName:"text",data:h[0]});return b===""?null:b}catch(d){if(a)throw d;if(So(d))return null;throw d}}async function Uh(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await j(e,Zc,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await zh(e,{record:c,gatewayUrls:r})}catch{return null}}async function Lh(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Kt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:e0,args:[n,o,i??[Un]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=j(e,Pe,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(So(f))return null;throw f}}async function Dh(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Kt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await j(e,Pe,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ue(Io(s))],blockNumber:n,blockTag:r});return c}async function Qc(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...b}=t,p=n?ie(n):void 0;try{Zt(t);const x=(typeof r=="bigint"?_(r):void 0)||s,P=e.chain?.formatters?.transactionRequest?.format,g=(P||Gn)({...jr(b,{format:P}),account:p,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),y=await e.request({method:"eth_createAccessList",params:[g,x]});return{accessList:y.accessList,gasUsed:BigInt(y.gasUsed)}}catch(m){throw qc(m,{...t,account:p,chain:e.chain})}}function zr(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),r=>n[r]||e.request}async function qh(e){const t=zr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class Hh extends S{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Gi="/docs/contract/encodeEventTopics";function Wn(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=xt({abi:t,name:n});if(!c)throw new wi(n,{docsPath:Gi});s=c}if(s.type!=="event")throw new wi(void 0,{docsPath:Gi});const o=ge(s),i=kr(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,h)=>Vi({param:f,value:u[d][h]})):typeof u[d]<"u"&&u[d]!==null?Vi({param:f,value:u[d]}):null)??[])}return[i,...a]}function Vi({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Y(Gt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Hh(e.type);return tt([e],[t])}async function Yc(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=zr(e,{method:"eth_newFilter"}),f=o?Wn({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?_(i):i,toBlock:typeof c=="bigint"?_(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}async function Jc(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=zr(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>Wn({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?_(o):o,toBlock:typeof a=="bigint"?_(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function Xc(e){const t=zr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function Gh(e){const t=Y(`0x${e.substring(4)}`).substring(26);return Or(`0x${t}`)}async function Vh({hash:e,signature:t}){const n=we(e)?e:Ue(e),{secp256k1:r}=await Ac(()=>Promise.resolve().then(()=>vb),void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),b=Wi(h);return new r.Signature(Te(u),Te(f)).addRecoveryBit(b)}const i=we(t)?t:Ue(t);if(G(i)!==65)throw new Error("invalid signature length");const a=Fe(`0x${i.slice(130)}`),c=Wi(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Wi(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function eu({hash:e,signature:t}){return Gh(await Vh({hash:e,signature:t}))}function Wh(e,t="hex"){const n=tu(e),r=wo(new Uint8Array(n.length));return n.encode(r),t==="hex"?W(r.bytes):r.bytes}function tu(e){return Array.isArray(e)?Kh(e.map(t=>tu(t))):Zh(e)}function Kh(e){const t=e.reduce((s,o)=>s+o.length,0),n=nu(t);return{length:(()=>t<=55?1+t:1+n+t)(),encode(s){t<=55?s.pushByte(192+t):(s.pushByte(192+55+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function Zh(e){const t=typeof e=="string"?ke(e):e,n=nu(t.length);return{length:(()=>t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length)(),encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(128+55+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function nu(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new S("Length is too large.")}function Qh(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=Y(Vt(["0x05",Wh([t?_(t):"0x",s,n?_(n):"0x"])]));return r==="bytes"?ke(o):o}async function _o(e){const{authorization:t,signature:n}=e;return eu({hash:Qh(t),signature:n??t})}class Yh extends S{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=zn({from:n?.address,to:d,value:typeof l<"u"&&`${Ao(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${se(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${se(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${se(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Jh(e,{docsPath:t,...n}){const r=(()=>{const s=_r(e,n);return s instanceof Hn?e:s})();return new Yh(r,{docsPath:t,...n})}class Xh extends S{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class jo extends S{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class ep extends S{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${se(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ru extends S{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const su={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ou(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Fe(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Fe(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?su[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=tp(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function tp(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function iu(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:ou(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Ce(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?_(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new ru({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||iu)(a,"getBlock")}async function zo(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function np(e,t){return au(e,t)}async function au(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await j(e,Ce,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return Te(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):j(e,Ce,"getBlock")({}),j(e,zo,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new jo;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function rp(e,t){return Vs(e,t)}async function Vs(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new Xh;const c=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await j(e,Ce,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new jo;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await au(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await j(e,zo,"getGasPrice")({}))}}async function cu(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?_(r):n]},{dedupe:!!r});return Fe(s)}function uu(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>ke(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>W(o))}function fu(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>ke(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>ke(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>W(i))}function sp(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function op(e,t,n){return e&t^~e&n}function ip(e,t,n){return e&t^e&n^t&n}class ap extends yo{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Zr(this.buffer)}update(t){zt(this),t=Cr(t),ht(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=Zr(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){zt(this),Ua(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Ft(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;sp(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Zr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Ge=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cp=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ve=new Uint32Array(64);class up extends ap{constructor(t=32){super(64,t,8,!1),this.A=Ge[0]|0,this.B=Ge[1]|0,this.C=Ge[2]|0,this.D=Ge[3]|0,this.E=Ge[4]|0,this.F=Ge[5]|0,this.G=Ge[6]|0,this.H=Ge[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ve[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Ve[d-15],h=Ve[d-2],b=Se(l,7)^Se(l,18)^l>>>3,p=Se(h,17)^Se(h,19)^h>>>10;Ve[d]=p+Ve[d-7]+b+Ve[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=Se(a,6)^Se(a,11)^Se(a,25),h=f+l+op(a,c,u)+cp[d]+Ve[d]|0,p=(Se(r,2)^Se(r,13)^Se(r,22))+ip(r,s,o)|0;f=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){Ft(Ve)}destroy(){this.set(0,0,0,0,0,0,0,0),Ft(this.buffer)}}const Bn=La(()=>new up),fp=Bn;function dp(e,t){const n=t||"hex",r=fp(we(e,{strict:!1})?Gt(e):e);return n==="bytes"?r:Ue(r)}function lp(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=dp(t,"bytes");return s.set([n],0),r==="bytes"?s:W(s)}function hp(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(lp({commitment:o,to:r,version:n}));return s}const Ki=6,du=32,Fo=4096,lu=du*Fo,Zi=lu*Ki-1-1*Fo*Ki;class pp extends S{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class bp extends S{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function mp(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?ke(e.data):e.data,r=G(n);if(!r)throw new bp;if(r>Zi)throw new pp({maxSize:Zi,size:r});const s=[];let o=!0,i=0;for(;o;){const a=wo(new Uint8Array(lu));let c=0;for(;c<Fo;){const u=n.slice(i,i+(du-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>W(a.bytes))}function yp(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??mp({data:t,to:r}),o=e.commitments??uu({blobs:s,kzg:n,to:r}),i=e.proofs??fu({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function gp(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new wl({transaction:e})}async function Uo(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Fe(t)}const hu=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Qi=new Map;async function Lo(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=hu,type:f}=t,d=n&&ie(n),l={...t,...d?{from:d?.address}:{}};let h;async function b(){return h||(h=await j(e,Ce,"getBlock")({blockTag:"latest"}),h)}let p;async function m(){return p||(s?s.id:typeof t.chainId<"u"?t.chainId:(p=await j(e,Uo,"getChainId")({}),p))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const x=await m();l.nonce=await c.consume({address:d.address,chainId:x,client:e})}else l.nonce=await j(e,cu,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const x=uu({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const P=hp({commitments:x,to:"hex"});l.blobVersionedHashes=P}if(u.includes("sidecars")){const P=fu({blobs:r,commitments:x,kzg:i}),v=yp({blobs:r,commitments:x,proofs:P,to:"hex"});l.sidecars=v}}if(u.includes("chainId")&&(l.chainId=await m()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=gp(l)}catch{let x=Qi.get(e.uid);typeof x>"u"&&(x=typeof(await b())?.baseFeePerGas=="bigint",Qi.set(e.uid,x)),l.type=x?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const x=await b(),{maxFeePerGas:P,maxPriorityFeePerGas:v}=await Vs(e,{block:x,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<v)throw new ep({maxPriorityFeePerGas:v});l.maxPriorityFeePerGas=v,l.maxFeePerGas=P}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new jo;if(typeof t.gasPrice>"u"){const x=await b(),{gasPrice:P}=await Vs(e,{block:x,chain:s,request:l,type:"legacy"});l.gasPrice=P}}return u.includes("gas")&&typeof o>"u"&&(l.gas=await j(e,Do,"estimateGas")({...l,account:d,prepare:d?.type==="local"?[]:["blobVersionedHashes"]})),Zt(l),delete l.parameters,l}async function Do(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?ie(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:i,authorizationList:a,blobs:c,blobVersionedHashes:u,blockNumber:f,blockTag:d,data:l,gas:h,gasPrice:b,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:x,nonce:P,value:v,stateOverride:g,...y}=r?await Lo(e,{...t,parameters:o}):t,w=(typeof f=="bigint"?_(f):void 0)||d,A=Ro(g),I=await(async()=>{if(y.to)return y.to;if(a&&a.length>0)return await _o({authorization:a[0]}).catch(()=>{throw new S("`to` is required. Could not infer from `authorizationList`")})})();Zt(t);const C=e.chain?.formatters?.transactionRequest?.format,k=(C||Gn)({...jr(y,{format:C}),account:s,accessList:i,authorizationList:a,blobs:c,blobVersionedHashes:u,data:l,gas:h,gasPrice:b,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:x,nonce:P,to:I,value:v},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:A?[k,w??e.experimental_blockTag??"latest",A]:w?[k,w]:[k]}))}catch(i){throw Jh(i,{...t,account:s,chain:e.chain})}}async function wp(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=be({abi:n,args:s,functionName:o});try{return await j(e,Do,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?ie(a.account):void 0;throw yt(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}async function vp(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?_(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function xp(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const Ep=new Map,Pp=new Map;function Ap(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Ep),r=t(e,Pp);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Sp(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Ap(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Ip=e=>`blockNumber.${e}`;async function Kn(e,{cacheTime:t=e.cacheTime}={}){const n=await Sp(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Ip(e.uid),cacheTime:t});return BigInt(n)}async function $p(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?_(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Fe(o)}async function Ws(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?_(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function Zn(e,t){if(!pe(e,{strict:!1}))throw new Ye({address:e});if(!pe(t,{strict:!1}))throw new Ye({address:t});return e.toLowerCase()===t.toLowerCase()}const Yi="/docs/contract/decodeEventLog";function qo(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new a0({docsPath:Yi});const c=t.find(p=>p.type==="event"&&i===kr(ge(p)));if(!(c&&"name"in c)||c.type!=="event")throw new Ra(i,{docsPath:Yi});const{name:u,inputs:f}=c,d=f?.some(p=>!("name"in p&&p.name)),l=d?[]:{},h=f.map((p,m)=>[p,m]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const[m,x]=h[p],P=a[p];if(!P)throw new $r({abiItem:c,param:m});l[d?x:m.name||x]=Cp({param:m,value:P})}const b=f.filter(p=>!("indexed"in p&&p.indexed));if(b.length>0){if(n&&n!=="0x")try{const p=_n(b,n);if(p)if(d)for(let m=0;m<f.length;m++)l[m]=l[m]??p.shift();else for(let m=0;m<b.length;m++)l[b[m].name]=p[m]}catch(p){if(o)throw p instanceof Ta||p instanceof Ka?new rn({abiItem:c,data:n,params:b,size:G(n)}):p}else if(o)throw new rn({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Cp({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(_n([e],t)||[])[0]}function Ho(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{try{const a=t.find(u=>u.type==="event"&&i.topics[0]===kr(u));if(!a)return null;const c=qo({...i,abi:[a],strict:s});return o&&!o.includes(c.eventName)||!Bp({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...i}}catch(a){let c,u;if(a instanceof Ra)return null;if(a instanceof rn||a instanceof $r){if(s)return null;c=a.abiItem.name,u=a.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function Bp(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Zn(i,a):o.type==="string"||o.type==="bytes"?Y(Gt(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function De(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Go(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(p=>Wn({abi:[p],eventName:p.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?_(r):r,toBlock:typeof s=="bigint"?_(s):s}]});const h=l.map(b=>De(b));return f?Ho({abi:f,args:a,logs:h,strict:u}):h}async function pu(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?xt({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return j(e,Go,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}class Op extends S{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Tp(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await j(e,Pe,"readContract")({abi:kp,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Op({address:n}):i}}const kp=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Rp(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Np(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?_(n):void 0,i=await e.request({method:"eth_feeHistory",params:[_(t),o||r,s]},{dedupe:!!o});return Rp(i)}async function Fr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>De(o));return!("abi"in t)||!t.abi?s:Ho({abi:t.abi,logs:s,strict:n})}async function Mp(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>De(o));return t.abi?Ho({abi:t.abi,logs:s,strict:n}):s}async function _p({address:e,authorization:t,signature:n}){return Zn(ot(e),await _o({authorization:t,signature:n}))}const tr=new Br(8192);function jp(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(tr.get(n))return tr.get(n);const r=e().finally(()=>tr.delete(n));return tr.set(n,r),r}async function Ks(e){return new Promise(t=>setTimeout(t,e))}function yr(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await Ks(f),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function zp(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(o?.exclude?.includes(u))throw new it(new Error("method not supported"),{method:u});if(o?.include&&!o.include.includes(u))throw new it(new Error("method not supported"),{method:u});const f=s?sn(`${c}.${V(n)}`):void 0;return jp(()=>yr(async()=>{try{return await e(n)}catch(d){const l=d;switch(l.code){case cn.code:throw new cn(l);case un.code:throw new un(l);case fn.code:throw new fn(l,{method:n.method});case dn.code:throw new dn(l);case pt.code:throw new pt(l);case bt.code:throw new bt(l);case ln.code:throw new ln(l);case Qe.code:throw new Qe(l);case hn.code:throw new hn(l);case it.code:throw new it(l,{method:n.method});case Lt.code:throw new Lt(l);case pn.code:throw new pn(l);case X.code:throw new X(l);case bn.code:throw new bn(l);case mn.code:throw new mn(l);case yn.code:throw new yn(l);case gn.code:throw new gn(l);case mt.code:throw new mt(l);case wn.code:throw new wn(l);case vn.code:throw new vn(l);case xn.code:throw new xn(l);case En.code:throw new En(l);case Pn.code:throw new Pn(l);case An.code:throw new An(l);case Sn.code:throw new Sn(l);case 5e3:throw new X(l);default:throw d instanceof S?d:new kl(l)}}},{delay:({count:d,error:l})=>{if(l&&l instanceof ft){const h=l?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<d)*i},retryCount:a,shouldRetry:({error:d})=>Fp(d)}),{enabled:s,id:f})}}function Fp(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Lt.code||e.code===pt.code:e instanceof ft&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class Up extends S{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${Fn(a)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Lp extends S{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Fn(n)}`,`Response: ${V(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Dp extends S{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const qp="0x556f1830",bu={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Hp(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=bc({data:r,abi:[bu]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof d?.request=="function"?d.request:mu;try{if(!Zn(s,i))throw new Dp({sender:i,to:s});const h=a.includes(Un)?await Ec({data:c,ccipRequest:l}):await l({data:c,sender:i,urls:a}),{data:b}=await Vn(e,{blockNumber:t,blockTag:n,data:ve([u,tt([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return b}catch(h){throw new Up({callbackSelector:u,cause:h,data:r,extraData:f,sender:i,urls:a})}}async function mu({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],i=o.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:i});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new ft({body:a,details:f?.error?V(f.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!we(f)){r=new Lp({result:f,url:o});continue}return f}catch(u){r=new ft({body:a,details:u.message,url:o})}}throw r}const Gp=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:mu,offchainLookup:Hp,offchainLookupAbiItem:bu,offchainLookupSignature:qp},Symbol.toStringTag,{value:"Module"}));function Vp({chain:e,currentChainId:t}){if(!e)throw new fl;if(t!==e.id)throw new ul({chain:e,currentChainId:t})}function tg(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function Wp(e,{docsPath:t,...n}){const r=(()=>{const s=_r(e,n);return s instanceof Hn?e:s})();return new vl(r,{docsPath:t,...n})}const Kp={"0x0":"reverted","0x1":"success"};function yu(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>De(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Fe(e.transactionIndex):null,status:e.status?Kp[e.status]:null,type:e.type?su[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function gu(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function Zp(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ji=Zp();function Qp(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:o=t.onRequest,onResponse:i=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:d}=c;try{const l=await gu(async({signal:b})=>{const p={...c,body:Array.isArray(r)?V(r.map(v=>({jsonrpc:"2.0",id:v.id??Ji.take(),...v}))):V({jsonrpc:"2.0",id:r.id??Ji.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:d||(a>0?b:null)},m=new Request(e,p),x=await o?.(m,p)??{...p,url:e};return await s(x.url??e,x)},{errorInstance:new Mi({body:r,url:e}),timeout:a,signal:!0});i&&await i(l);let h;if(l.headers.get("Content-Type")?.startsWith("application/json"))h=await l.json();else{h=await l.text();try{h=JSON.parse(h||"{}")}catch(b){if(l.ok)throw b;h={error:h}}}if(!l.ok)throw new ft({body:r,details:V(h.error)||l.statusText,headers:l.headers,status:l.status,url:e});return h}catch(l){throw l instanceof ft||l instanceof Mi?l:new ft({body:r,cause:l,url:e})}}}}const Yp=`Ethereum Signed Message:
`;function Jp(e){const t=(()=>typeof e=="string"?sn(e):typeof e.raw=="string"?e.raw:W(e.raw))(),n=sn(`${Yp}${G(t)}`);return ve([n,t])}function wu(e,t){return Y(Jp(e),t)}class Xp extends S{constructor({domain:t}){super(`Invalid domain "${V(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class e1 extends S{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class t1 extends S{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function n1(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(Ja);if(l&&(typeof d=="number"||typeof d=="bigint")){const[p,m,x]=l;_(d,{signed:m==="int",size:Number.parseInt(x,10)/8})}if(f==="address"&&typeof d=="string"&&!pe(d))throw new Ye({address:d});const h=f.match(td);if(h){const[p,m]=h;if(m&&G(d)!==Number.parseInt(m,10))throw new f0({expectedSize:Number.parseInt(m,10),givenSize:G(d)})}const b=s[f];b&&(s1(f),o(b,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Xp({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new e1({primaryType:r,types:s})}function r1({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function s1(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new t1({type:e})}function o1(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:r1({domain:t}),...e.types};n1({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(i1({domain:t,types:s})),r!=="EIP712Domain"&&o.push(vu({data:n,primaryType:r,types:s})),Y(ve(o))}function i1({domain:e,types:t}){return vu({data:e,primaryType:"EIP712Domain",types:t})}function vu({data:e,primaryType:t,types:n}){const r=xu({data:e,primaryType:t,types:n});return Y(r)}function xu({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[a1({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=Pu({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return tt(r,s)}function a1({primaryType:e,types:t}){const n=Ue(c1({primaryType:e,types:t}));return Y(n)}function c1({primaryType:e,types:t}){let n="";const r=Eu({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function Eu({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])Eu({primaryType:o.type,types:t},n);return n}function Pu({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Y(xu({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Y(r)];if(n==="string")return[{type:"bytes32"},Y(Ue(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>Pu({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},Y(tt(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class u1 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const f1={checksum:new u1(8192)},is=f1.checksum;function Au(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Wa(Ql(e));return n==="Bytes"?r:Ee(r)}const d1=/^0x[a-fA-F0-9]{40}$/;function Ur(e,t={}){const{strict:n=!0}=t;if(!d1.test(e))throw new Xi({address:e,cause:new l1});if(n){if(e.toLowerCase()===e)return;if(Su(e)!==e)throw new Xi({address:e,cause:new h1})}}function Su(e){if(is.has(e))return is.get(e);Ur(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Au(Jl(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return is.set(e,s),s}function Zs(e,t={}){const{strict:n=!0}=t??{};try{return Ur(e,{strict:n}),!0}catch{return!1}}class Xi extends U{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class l1 extends U{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class h1 extends U{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const p1=/^(.*)\[([0-9]*)\]$/,b1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Iu=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ea=2n**256n-1n;function Mt(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Ko(t.type);if(o){const[i,a]=o;return y1(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return x1(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return m1(e,{checksum:r});if(t.type==="bool")return g1(e);if(t.type.startsWith("bytes"))return w1(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return v1(e,t);if(t.type==="string")return E1(e,{staticPosition:s});throw new Qo(t.type)}const ta=32,Qs=32;function m1(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?Su(o):o)(Ee(eh(r,-20))),32]}function y1(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=ze(e.readBytes(Qs)),u=o+c,f=u+ta;e.setPosition(u);const d=ze(e.readBytes(ta)),l=On(t);let h=0;const b=[];for(let p=0;p<d;++p){e.setPosition(f+(l?p*32:h));const[m,x]=Mt(e,t,{checksumAddress:r,staticPosition:f});h+=x,b.push(m)}return e.setPosition(o+32),[b,32]}if(On(t)){const c=ze(e.readBytes(Qs)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Mt(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=Mt(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function g1(e){return[nh(e.readBytes(32),{size:32}),32]}function w1(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=ze(e.readBytes(32));e.setPosition(n+i);const a=ze(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Ee(c),32]}return[Ee(e.readBytes(Number.parseInt(s,10),32)),32]}function v1(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?th(s,{signed:n}):ze(s,{signed:n}),32]}function x1(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(On(t)){const c=ze(e.readBytes(Qs)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=Mt(e,d,{checksumAddress:r,staticPosition:u});a+=h,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=Mt(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u?.name]=f,a+=d}return[i,a]}function E1(e,{staticPosition:t}){const n=ze(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ze(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=rh(Nc(o));return e.setPosition(t+32),[i,32]}function P1({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Vo({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Vo({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Ko(r.type);if(s){const[o,i]=s;return S1(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return O1(n,{checksumAddress:e,parameter:r});if(r.type==="address")return A1(n,{checksum:e});if(r.type==="bool")return $1(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=Iu.exec(r.type)??[];return C1(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return I1(n,{type:r.type});if(r.type==="string")return B1(n);throw new Qo(r.type)}function Wo(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=ue(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(ee(t+s,{size:32})),r.push(a),s+=ue(a)):n.push(a)}return xe(...n,...r)}function A1(e,t){const{checksum:n=!1}=t;return Ur(e,{strict:n}),{dynamic:!1,encoded:gt(e.toLowerCase())}}function S1(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new F1(e);if(!o&&e.length!==r)throw new z1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=Vo({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Wo(a);if(o){const u=ee(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?xe(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:xe(...a.map(({encoded:c})=>c))}}function I1(e,{type:t}){const[,n]=t.split("bytes"),r=ue(e);if(!n){let s=e;return r%32!==0&&(s=wt(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:xe(gt(ee(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Cu({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:wt(e)}}function $1(e){if(typeof e!="boolean")throw new U(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:gt(_c(e))}}function C1(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Fc({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ee(e,{size:32,signed:t})}}function B1(e){const t=Oo(e),n=Math.ceil(ue(t)/32),r=[];for(let s=0;s<n;s++)r.push(wt(Oe(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:xe(wt(ee(ue(t),{size:32})),...r)}}function O1(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=Vo({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Wo(o):xe(...o.map(({encoded:i})=>i))}}function Ko(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function On(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(On);const n=Ko(e.type);return!!(n&&On({...e,type:n[1]}))}const T1={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new N1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new R1({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new na({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new na({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function k1(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(T1);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class na extends U{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class R1 extends U{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class N1 extends U{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function M1(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?Rc(t):t,i=k1(o);if($e(o)===0&&e.length>0)throw new j1;if($e(o)&&$e(o)<32)throw new _1({data:typeof t=="string"?t:Ee(t),parameters:e,size:$e(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=Mt(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function Zo(e,t,n){const{checksumAddress:r=!1}=n??{};if(e.length!==t.length)throw new Bu({expectedLength:e.length,givenLength:t.length});const s=P1({checksumAddress:r,parameters:e,values:t}),o=Wo(s);return o.length===0?"0x":o}function Ys(e,t){if(e.length!==t.length)throw new Bu({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Ys.encode(s,o))}return xe(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Ur(c),gt(c.toLowerCase(),s?32:0)}if(n==="string")return Oo(r);if(n==="bytes")return r;if(n==="bool")return gt(_c(r),s?32:1);const o=n.match(Iu);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return ee(r,{size:s?32:d,signed:u==="int"})}const i=n.match(b1);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Cu({expectedSize:Number.parseInt(u,10),value:r});return wt(r,s?32:0)}const a=n.match(p1);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":xe(...f)}throw new Qo(n)}e.encode=t})(Ys||(Ys={}));function $u(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Ti(e):e}class _1 extends U{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Tt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class j1 extends U{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class z1 extends U{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Cu extends U{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ue(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Bu extends U{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class F1 extends U{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Qo extends U{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Ou extends yo{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,T0(t);const r=Cr(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Ft(o)}update(t){return zt(this),this.iHash.update(t),this}digestInto(t){zt(this),ht(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Tu=(e,t,n)=>new Ou(e,t).update(n).digest();Tu.create=(e,t)=>new Ou(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const re=BigInt(0),te=BigInt(1),at=BigInt(2),U1=BigInt(3),ku=BigInt(4),Ru=BigInt(5),Nu=BigInt(8);function K(e,t){const n=e%t;return n>=re?n:t+n}function de(e,t,n){let r=e;for(;t-- >re;)r*=r,r%=n;return r}function Js(e,t){if(e===re)throw new Error("invert: expected non-zero number");if(t<=re)throw new Error("invert: expected positive modulus, got "+t);let n=K(e,t),r=t,s=re,o=te;for(;n!==re;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==te)throw new Error("invert: does not exist");return K(s,t)}function Mu(e,t){const n=(e.ORDER+te)/ku,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function L1(e,t){const n=(e.ORDER-Ru)/Nu,r=e.mul(t,at),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,at),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function D1(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-te,n=0;for(;t%at===re;)t/=at,n++;let r=at;const s=Yo(e);for(;ra(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Mu;let o=s.pow(r,t);const i=(t+te)/at;return function(c,u){if(c.is0(u))return u;if(ra(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let b=1,p=c.sqr(l);for(;!c.eql(p,c.ONE);)if(b++,p=c.sqr(p),b===f)throw new Error("Cannot find square root");const m=te<<BigInt(f-b-1),x=c.pow(d,m);f=b,d=c.sqr(x),l=c.mul(l,d),h=c.mul(h,x)}return h}}function q1(e){return e%ku===U1?Mu:e%Nu===Ru?L1:D1(e)}const H1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _u(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=H1.reduce((r,s)=>(r[s]="function",r),t);return Dn(e,n)}function G1(e,t,n){if(n<re)throw new Error("invalid exponent, negatives unsupported");if(n===re)return e.ONE;if(n===te)return t;let r=e.ONE,s=t;for(;n>re;)n&te&&(r=e.mul(r,s)),s=e.sqr(s),n>>=te;return r}function Lr(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function ra(e,t){const n=(e.ORDER-te)/at,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function ju(e,t){t!==void 0&&on(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Yo(e,t,n=!1,r={}){if(e<=re)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=ju(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Nr(s),ZERO:re,ONE:te,create:c=>K(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return re<=c&&c<e},is0:c=>c===re,isOdd:c=>(c&te)===te,neg:c=>K(-c,e),eql:(c,u)=>c===u,sqr:c=>K(c*c,e),add:(c,u)=>K(c+u,e),sub:(c,u)=>K(c-u,e),mul:(c,u)=>K(c*u,e),pow:(c,u)=>G1(a,c,u),div:(c,u)=>K(c*Js(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Js(c,e),sqrt:r.sqrt||(c=>(i||(i=q1(e)),i(a,c))),toBytes:c=>n?Cc(c,o):Pt(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?$c(c):Be(c)},invertBatch:c=>Lr(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function zu(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Fu(e){const t=zu(e);return t+Math.ceil(t/2)}function V1(e,t,n=!1){const r=e.length,s=zu(t),o=Fu(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?$c(e):Be(e),a=K(i,t-te)+te;return n?Cc(a,s):Pt(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sa=BigInt(0),Xs=BigInt(1);function as(e,t){const n=t.negate();return e?n:t}function Uu(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function cs(e,t){Uu(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Nr(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function oa(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=Xs);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function W1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function K1(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const us=new WeakMap,Lu=new WeakMap;function fs(e){return Lu.get(e)||1}function Z1(e,t){return{constTimeNegate:as,hasPrecomputes(n){return fs(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>sa;)r&Xs&&(s=s.add(o)),o=o.double(),r>>=Xs;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=cs(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=cs(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:b}=oa(s,c,a);s=u,d?i=i.add(as(h,r[b])):o=o.add(as(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=cs(n,t);for(let a=0;a<i.windows&&s!==sa;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=oa(s,a,i);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=us.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&us.set(r,s(o))),o},wNAFCached(n,r,s){const o=fs(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=fs(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){Uu(r,t),Lu.set(n,r),us.delete(n)}}}function Q1(e,t,n,r){W1(n,e),K1(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=jl(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Nr(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let l=i;for(let h=d;h>=0;h-=c){f.fill(i);for(let p=0;p<o;p++){const m=r[p],x=Number(m>>BigInt(h)&u);f[x]=f[x].add(n[p])}let b=i;for(let p=f.length-1,m=i;p>0;p--)m=m.add(f[p]),b=b.add(m);if(l=l.add(b),h!==0)for(let p=0;p<c;p++)l=l.double()}return l}function Du(e){return _u(e.Fp),Dn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ju(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ia(e){e.lowS!==void 0&&In("lowS",e.lowS),e.prehash!==void 0&&In("prehash",e.prehash)}function Y1(e){const t=Du(e);Dn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class J1 extends Error{constructor(t=""){super(t)}}const _e={Err:J1,_tlv:{encode:(e,t)=>{const{Err:n}=_e;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=er(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?er(s.length/2|128):"";return er(e)+o+s+t},decode(e,t){const{Err:n}=_e;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=_e;if(e<ye)throw new t("integer: negative integers are not allowed");let n=er(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=_e;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Be(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=_e,s=Z("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=_e,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function ds(e,t){return $n(Pt(e,t))}const ye=BigInt(0),D=BigInt(1),We=BigInt(2),tn=BigInt(3),eo=BigInt(4);function X1(e){const t=Y1(e),{Fp:n}=t,r=Yo(t.n,t.nBitLength),s=t.toBytes||((v,g,y)=>{const E=g.toAffine();return he(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),o=t.fromBytes||(v=>{const g=v.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),E=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:E}});function i(v){const{a:g,b:y}=t,E=n.sqr(v),w=n.mul(E,v);return n.add(n.add(w,n.mul(v,g)),y)}function a(v,g){const y=n.sqr(g),E=i(v);return n.eql(y,E)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,tn),eo),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(v){return Cn(v,D,t.n)}function d(v){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:E,n:w}=t;if(g&&typeof v!="bigint"){if(Ln(v)&&(v=$n(v)),typeof v!="string"||!g.includes(v.length))throw new Error("invalid private key");v=v.padStart(y*2,"0")}let A;try{A=typeof v=="bigint"?v:Be(Z("private key",v,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof v)}return E&&(A=K(A,w)),dt("private key",A,D,w),A}function l(v){if(!(v instanceof p))throw new Error("ProjectivePoint expected")}const h=Fi((v,g)=>{const{px:y,py:E,pz:w}=v;if(n.eql(w,n.ONE))return{x:y,y:E};const A=v.is0();g==null&&(g=A?n.ONE:n.inv(w));const I=n.mul(y,g),C=n.mul(E,g),B=n.mul(w,g);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:I,y:C}}),b=Fi(v=>{if(v.is0()){if(t.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=v.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");if(!a(g,y))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(g,y,E){if(g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y)||n.is0(y))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required");this.px=g,this.py=y,this.pz=E,Object.freeze(this)}static fromAffine(g){const{x:y,y:E}=g||{};if(!g||!n.isValid(y)||!n.isValid(E))throw new Error("invalid affine point");if(g instanceof p)throw new Error("projective point not allowed");const w=A=>n.eql(A,n.ZERO);return w(y)&&w(E)?p.ZERO:new p(y,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=Lr(n,g.map(E=>E.pz));return g.map((E,w)=>E.toAffine(y[w])).map(p.fromAffine)}static fromHex(g){const y=p.fromAffine(o(Z("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return p.BASE.multiply(d(g))}static msm(g,y){return Q1(p,r,g,y)}_setWindowSize(g){P.setWindowSize(this,g)}assertValidity(){b(this)}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){l(g);const{px:y,py:E,pz:w}=this,{px:A,py:I,pz:C}=g,B=n.eql(n.mul(y,C),n.mul(A,w)),k=n.eql(n.mul(E,C),n.mul(I,w));return B&&k}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:y}=t,E=n.mul(y,tn),{px:w,py:A,pz:I}=this;let C=n.ZERO,B=n.ZERO,k=n.ZERO,R=n.mul(w,w),F=n.mul(A,A),O=n.mul(I,I),$=n.mul(w,A);return $=n.add($,$),k=n.mul(w,I),k=n.add(k,k),C=n.mul(g,k),B=n.mul(E,O),B=n.add(C,B),C=n.sub(F,B),B=n.add(F,B),B=n.mul(C,B),C=n.mul($,C),k=n.mul(E,k),O=n.mul(g,O),$=n.sub(R,O),$=n.mul(g,$),$=n.add($,k),k=n.add(R,R),R=n.add(k,R),R=n.add(R,O),R=n.mul(R,$),B=n.add(B,R),O=n.mul(A,I),O=n.add(O,O),R=n.mul(O,$),C=n.sub(C,R),k=n.mul(O,F),k=n.add(k,k),k=n.add(k,k),new p(C,B,k)}add(g){l(g);const{px:y,py:E,pz:w}=this,{px:A,py:I,pz:C}=g;let B=n.ZERO,k=n.ZERO,R=n.ZERO;const F=t.a,O=n.mul(t.b,tn);let $=n.mul(y,A),M=n.mul(E,I),T=n.mul(w,C),N=n.add(y,E),z=n.add(A,I);N=n.mul(N,z),z=n.add($,M),N=n.sub(N,z),z=n.add(y,w);let L=n.add(A,C);return z=n.mul(z,L),L=n.add($,T),z=n.sub(z,L),L=n.add(E,w),B=n.add(I,C),L=n.mul(L,B),B=n.add(M,T),L=n.sub(L,B),R=n.mul(F,z),B=n.mul(O,T),R=n.add(B,R),B=n.sub(M,R),R=n.add(M,R),k=n.mul(B,R),M=n.add($,$),M=n.add(M,$),T=n.mul(F,T),z=n.mul(O,z),M=n.add(M,T),T=n.sub($,T),T=n.mul(F,T),z=n.add(z,T),$=n.mul(M,z),k=n.add(k,$),$=n.mul(L,z),B=n.mul(N,B),B=n.sub(B,$),$=n.mul(N,M),R=n.mul(L,R),R=n.add(R,$),new p(B,k,R)}subtract(g){return this.add(g.negate())}is0(){return this.equals(p.ZERO)}wNAF(g){return P.wNAFCached(this,g,p.normalizeZ)}multiplyUnsafe(g){const{endo:y,n:E}=t;dt("scalar",g,ye,E);const w=p.ZERO;if(g===ye)return w;if(this.is0()||g===D)return this;if(!y||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,g,p.normalizeZ);let{k1neg:A,k1:I,k2neg:C,k2:B}=y.splitScalar(g),k=w,R=w,F=this;for(;I>ye||B>ye;)I&D&&(k=k.add(F)),B&D&&(R=R.add(F)),F=F.double(),I>>=D,B>>=D;return A&&(k=k.negate()),C&&(R=R.negate()),R=new p(n.mul(R.px,y.beta),R.py,R.pz),k.add(R)}multiply(g){const{endo:y,n:E}=t;dt("scalar",g,D,E);let w,A;if(y){const{k1neg:I,k1:C,k2neg:B,k2:k}=y.splitScalar(g);let{p:R,f:F}=this.wNAF(C),{p:O,f:$}=this.wNAF(k);R=P.constTimeNegate(I,R),O=P.constTimeNegate(B,O),O=new p(n.mul(O.px,y.beta),O.py,O.pz),w=R.add(O),A=F.add($)}else{const{p:I,f:C}=this.wNAF(g);w=I,A=C}return p.normalizeZ([w,A])[0]}multiplyAndAddUnsafe(g,y,E){const w=p.BASE,A=(C,B)=>B===ye||B===D||!C.equals(w)?C.multiplyUnsafe(B):C.multiply(B),I=A(this,y).add(A(g,E));return I.is0()?void 0:I}toAffine(g){return h(this,g)}isTorsionFree(){const{h:g,isTorsionFree:y}=t;if(g===D)return!0;if(y)return y(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=t;return g===D?this:y?y(p,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return In("isCompressed",g),this.assertValidity(),s(p,this,g)}toHex(g=!0){return In("isCompressed",g),$n(this.toRawBytes(g))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:x}=t,P=Z1(p,m?Math.ceil(x/2):x);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function eb(e){const t=Du(e);return Dn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function tb(e){const t=eb(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(O){return K(O,r)}function u(O){return Js(O,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=X1({...t,toBytes(O,$,M){const T=$.toAffine(),N=n.toBytes(T.x),z=he;return In("isCompressed",M),M?z(Uint8Array.from([$.hasEvenY()?2:3]),N):z(Uint8Array.from([4]),N,n.toBytes(T.y))},fromBytes(O){const $=O.length,M=O[0],T=O.subarray(1);if($===i&&(M===2||M===3)){const N=Be(T);if(!Cn(N,D,n.ORDER))throw new Error("Point is not on curve");const z=l(N);let L;try{L=n.sqrt(z)}catch(ne){const J=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+J)}const q=(L&D)===D;return(M&1)===1!==q&&(L=n.neg(L)),{x:N,y:L}}else if($===a&&M===4){const N=n.fromBytes(T.subarray(0,n.BYTES)),z=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:N,y:z}}else{const N=i,z=a;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+z+", got "+$)}}});function b(O){const $=r>>D;return O>$}function p(O){return b(O)?c(-O):O}const m=(O,$,M)=>Be(O.slice($,M));class x{constructor($,M,T){dt("r",$,D,r),dt("s",M,D,r),this.r=$,this.s=M,T!=null&&(this.recovery=T),Object.freeze(this)}static fromCompact($){const M=s;return $=Z("compactSignature",$,M*2),new x(m($,0,M),m($,M,2*M))}static fromDER($){const{r:M,s:T}=_e.toSig(Z("DER",$));return new x(M,T)}assertValidity(){}addRecoveryBit($){return new x(this.r,this.s,$)}recoverPublicKey($){const{r:M,s:T,recovery:N}=this,z=w(Z("msgHash",$));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const L=N===2||N===3?M+t.n:M;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=N&1?"03":"02",me=f.fromHex(q+ds(L,n.BYTES)),ne=u(L),J=c(-z*ne),St=c(T*ne),He=f.BASE.multiplyAndAddUnsafe(me,J,St);if(!He)throw new Error("point at infinify");return He.assertValidity(),He}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return pr(this.toDERHex())}toDERHex(){return _e.hexFromSig(this)}toCompactRawBytes(){return pr(this.toCompactHex())}toCompactHex(){const $=s;return ds(this.r,$)+ds(this.s,$)}}const P={isValidPrivateKey(O){try{return d(O),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const O=Fu(t.n);return V1(t.randomBytes(O),t.n)},precompute(O=8,$=f.BASE){return $._setWindowSize(O),$.multiply(BigInt(3)),$}};function v(O,$=!0){return f.fromPrivateKey(O).toRawBytes($)}function g(O){if(typeof O=="bigint")return!1;if(O instanceof f)return!0;const M=Z("key",O).length,T=n.BYTES,N=T+1,z=2*T+1;if(!(t.allowedPrivateKeyLengths||s===N))return M===N||M===z}function y(O,$,M=!0){if(g(O)===!0)throw new Error("first arg must be private key");if(g($)===!1)throw new Error("second arg must be public key");return f.fromHex($).multiply(d(O)).toRawBytes(M)}const E=t.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");const $=Be(O),M=O.length*8-o;return M>0?$>>BigInt(M):$},w=t.bits2int_modN||function(O){return c(E(O))},A=Nr(o);function I(O){return dt("num < 2^"+o,O,ye,A),Pt(O,s)}function C(O,$,M=B){if(["recovered","canonical"].some(rt=>rt in M))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:N}=t;let{lowS:z,prehash:L,extraEntropy:q}=M;z==null&&(z=!0),O=Z("msgHash",O),ia(M),L&&(O=Z("prehashed msgHash",T(O)));const me=w(O),ne=d($),J=[I(ne),I(me)];if(q!=null&&q!==!1){const rt=q===!0?N(n.BYTES):q;J.push(Z("extraEntropy",rt))}const St=he(...J),He=me;function Vr(rt){const It=E(rt);if(!h(It))return;const Wr=u(It),Yt=f.BASE.multiply(It).toAffine(),st=c(Yt.x);if(st===ye)return;const Jt=c(Wr*c(He+st*ne));if(Jt===ye)return;let $t=(Yt.x===st?0:2)|Number(Yt.y&D),ii=Jt;return z&&b(Jt)&&(ii=p(Jt),$t^=1),new x(st,ii,$t)}return{seed:St,k2sig:Vr}}const B={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};function R(O,$,M=B){const{seed:T,k2sig:N}=C(O,$,M),z=t;return zl(z.hash.outputLen,z.nByteLength,z.hmac)(T,N)}f.BASE._setWindowSize(8);function F(O,$,M,T=k){const N=O;$=Z("msgHash",$),M=Z("publicKey",M);const{lowS:z,prehash:L,format:q}=T;if(ia(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const me=typeof N=="string"||Ln(N),ne=!me&&!q&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!me&&!ne)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let J,St;try{if(ne&&(J=new x(N.r,N.s)),me){try{q!=="compact"&&(J=x.fromDER(N))}catch($t){if(!($t instanceof _e.Err))throw $t}!J&&q!=="der"&&(J=x.fromCompact(N))}St=f.fromHex(M)}catch{return!1}if(!J||z&&J.hasHighS())return!1;L&&($=t.hash($));const{r:He,s:Vr}=J,rt=w($),It=u(Vr),Wr=c(rt*It),Yt=c(He*It),st=f.BASE.multiplyAndAddUnsafe(St,Wr,Yt)?.toAffine();return st?c(st.x)===He:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:y,sign:R,verify:F,ProjectivePoint:f,Signature:x,utils:P}}function nb(e,t){const n=e.ORDER;let r=ye;for(let b=n-D;b%We===ye;b/=We)r+=D;const s=r,o=We<<s-D-D,i=o*We,a=(n-D)/i,c=(a-D)/We,u=i-D,f=o,d=e.pow(t,a),l=e.pow(t,(a+D)/We);let h=(b,p)=>{let m=d,x=e.pow(p,u),P=e.sqr(x);P=e.mul(P,p);let v=e.mul(b,P);v=e.pow(v,c),v=e.mul(v,x),x=e.mul(v,p),P=e.mul(v,b);let g=e.mul(P,x);v=e.pow(g,f);let y=e.eql(v,e.ONE);x=e.mul(P,l),v=e.mul(g,m),P=e.cmov(x,P,y),g=e.cmov(v,g,y);for(let E=s;E>D;E--){let w=E-We;w=We<<w-D;let A=e.pow(g,w);const I=e.eql(A,e.ONE);x=e.mul(P,m),m=e.mul(m,m),A=e.mul(g,m),P=e.cmov(x,P,I),g=e.cmov(A,g,I)}return{isValid:y,value:P}};if(e.ORDER%eo===tn){const b=(e.ORDER-tn)/eo,p=e.sqrt(e.neg(t));h=(m,x)=>{let P=e.sqr(x);const v=e.mul(m,x);P=e.mul(P,v);let g=e.pow(P,b);g=e.mul(g,v);const y=e.mul(g,p),E=e.mul(e.sqr(g),x),w=e.eql(E,m);let A=e.cmov(y,g,w);return{isValid:w,value:A}}}return h}function rb(e,t){if(_u(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=nb(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,o,i,a,c,u,f,d;s=e.sqr(r),s=e.mul(s,t.Z),o=e.sqr(s),o=e.add(o,s),i=e.add(o,e.ONE),i=e.mul(i,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(i),u=e.sqr(a),c=e.mul(u,t.A),o=e.add(o,c),o=e.mul(o,i),u=e.mul(u,a),c=e.mul(u,t.B),o=e.add(o,c),f=e.mul(s,i);const{isValid:l,value:h}=n(o,u);d=e.mul(s,r),d=e.mul(d,h),f=e.cmov(f,i,l),d=e.cmov(d,h,l);const b=e.isOdd(r)===e.isOdd(d);d=e.cmov(e.neg(d),d,b);const p=Lr(e,[a],!0)[0];return f=e.mul(f,p),{x:f,y:d}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sb(e){return{hash:e,hmac:(t,...n)=>Tu(e,t,j0(...n)),randomBytes:Da}}function ob(e,t){const n=r=>tb({...e,...sb(r)});return{...n(t),create:n}}const ib=Be;function Ke(e,t){if(Tn(e),Tn(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function ab(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Tn(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function cb(e,t,n,r){Je(e),Je(t),Tn(n),t.length>255&&(t=r(he(Bo("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:o}=r,i=Math.ceil(n/s);if(n>65535||i>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=he(t,Ke(t.length,1)),c=Ke(0,o),u=Ke(n,2),f=new Array(i),d=r(he(c,e,u,Ke(0,1),a));f[0]=r(he(d,Ke(1,1),a));for(let h=1;h<=i;h++){const b=[ab(d,f[h-1]),Ke(h+1,1),a];f[h]=r(he(...b))}return he(...f).slice(0,n)}function ub(e,t,n,r,s){if(Je(e),Je(t),Tn(n),t.length>255){const o=Math.ceil(2*r/8);t=s.create({dkLen:o}).update(Bo("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(Ke(n,2)).update(t).update(Ke(t.length,1)).digest()}function aa(e,t,n){Dn(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:o,hash:i,expand:a,DST:c}=n;Je(e),Tn(t);const u=typeof c=="string"?Bo(c):c,f=r.toString(2).length,d=Math.ceil((f+s)/8),l=t*o*d;let h;if(a==="xmd")h=cb(e,u,l,i);else if(a==="xof")h=ub(e,u,l,s,i);else if(a==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');const b=new Array(t);for(let p=0;p<t;p++){const m=new Array(o);for(let x=0;x<o;x++){const P=d*(x+p*o),v=h.subarray(P,P+d);m[x]=K(ib(v),r)}b[p]=m}return b}function fb(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,s)=>{const[o,i,a,c]=n.map(d=>d.reduce((l,h)=>e.add(e.mul(l,r),h))),[u,f]=Lr(e,[i,c],!0);return r=e.mul(o,u),s=e.mul(s,e.mul(a,f)),{x:r,y:s}}}function db(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(o){return e.fromAffine(t(o))}function s(o){const i=o.clearCofactor();return i.equals(e.ZERO)?e.ZERO:(i.assertValidity(),i)}return{defaults:n,hashToCurve(o,i){const a=aa(o,2,{...n,DST:n.DST,...i}),c=r(a[0]),u=r(a[1]);return s(c.add(u))},encodeToCurve(o,i){const a=aa(o,1,{...n,DST:n.encodeDST,...i});return s(r(a[0]))},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(const i of o)if(typeof i!="bigint")throw new Error("expected array of bigints");return s(r(o))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qn=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),gr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Jo=BigInt(0),kn=BigInt(1),wr=BigInt(2),ca=(e,t)=>(e+t/wr)/t;function qu(e){const t=Qn,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=de(f,n,t)*f%t,l=de(d,n,t)*f%t,h=de(l,wr,t)*u%t,b=de(h,s,t)*h%t,p=de(b,o,t)*b%t,m=de(p,a,t)*p%t,x=de(m,c,t)*m%t,P=de(x,a,t)*p%t,v=de(P,n,t)*f%t,g=de(v,i,t)*b%t,y=de(g,r,t)*u%t,E=de(y,wr,t);if(!Xe.eql(Xe.sqr(E),e))throw new Error("Cannot find square root");return E}const Xe=Yo(Qn,void 0,void 0,{sqrt:qu}),Qt=ob({a:Jo,b:BigInt(7),Fp:Xe,n:gr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=gr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-kn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=ca(o*e,t),c=ca(-r*e,t);let u=K(e-a*n-c*s,t),f=K(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},Bn),ua={};function vr(e,...t){let n=ua[e];if(n===void 0){const r=Bn(Uint8Array.from(e,s=>s.charCodeAt(0)));n=he(r,r),ua[e]=n}return Bn(he(n,...t))}const Xo=e=>e.toRawBytes(!0).slice(1),to=e=>Pt(e,32),ls=e=>K(e,Qn),Rn=e=>K(e,gr),ei=(()=>Qt.ProjectivePoint)(),lb=(e,t,n)=>ei.BASE.multiplyAndAddUnsafe(e,t,n);function no(e){let t=Qt.utils.normPrivateKeyToScalar(e),n=ei.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Rn(-t),bytes:Xo(n)}}function Hu(e){dt("x",e,kn,Qn);const t=ls(e*e),n=ls(t*e+BigInt(7));let r=qu(n);r%wr!==Jo&&(r=ls(-r));const s=new ei(e,r,kn);return s.assertValidity(),s}const _t=Be;function Gu(...e){return Rn(_t(vr("BIP0340/challenge",...e)))}function hb(e){return no(e).bytes}function pb(e,t,n=Da(32)){const r=Z("message",e),{bytes:s,scalar:o}=no(t),i=Z("auxRand",n,32),a=to(o^_t(vr("BIP0340/aux",i))),c=vr("BIP0340/nonce",a,s,r),u=Rn(_t(c));if(u===Jo)throw new Error("sign failed: k is zero");const{bytes:f,scalar:d}=no(u),l=Gu(f,s,r),h=new Uint8Array(64);if(h.set(f,0),h.set(to(Rn(d+l*o)),32),!Vu(h,r,s))throw new Error("sign: Invalid signature produced");return h}function Vu(e,t,n){const r=Z("signature",e,64),s=Z("message",t),o=Z("publicKey",n,32);try{const i=Hu(_t(o)),a=_t(r.subarray(0,32));if(!Cn(a,kn,Qn))return!1;const c=_t(r.subarray(32,64));if(!Cn(c,kn,gr))return!1;const u=Gu(to(a),Xo(i),s),f=lb(i,c,Rn(-u));return!(!f||!f.hasEvenY()||f.toAffine().x!==a)}catch{return!1}}const bb=(()=>({getPublicKey:hb,sign:pb,verify:Vu,utils:{randomPrivateKey:Qt.utils.randomPrivateKey,lift_x:Hu,pointToBytes:Xo,numberToBytesBE:Pt,bytesToNumberBE:Be,taggedHash:vr,mod:K}}))(),mb=(()=>fb(Xe,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))))(),yb=(()=>rb(Xe,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Xe.create(BigInt("-11"))}))(),ti=(()=>db(Qt.ProjectivePoint,e=>{const{x:t,y:n}=yb(Xe.create(e[0]));return mb(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Xe.ORDER,m:1,k:128,expand:"xmd",hash:Bn}))(),gb=(()=>ti.hashToCurve)(),wb=(()=>ti.encodeToCurve)(),vb=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve:wb,hashToCurve:gb,schnorr:bb,secp256k1:Qt,secp256k1_hasher:ti},Symbol.toStringTag,{value:"Module"}));function Wu(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new hs({signature:e});if(typeof e.s>"u")throw new hs({signature:e});if(n&&typeof e.yParity>"u")throw new hs({signature:e});if(e.r<0n||e.r>ea)throw new $b({value:e.r});if(e.s<0n||e.s>ea)throw new Cb({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new ri({value:e.yParity})}function xb(e){return Ku(Ee(e))}function Ku(e){if(e.length!==130&&e.length!==132)throw new Ib({signature:e});const t=BigInt(Oe(e,0,32)),n=BigInt(Oe(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return ni(s)}catch{throw new ri({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Eb(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Pb(e)}function Pb(e){const t=(()=>typeof e=="string"?Ku(e):e instanceof Uint8Array?xb(e):typeof e.r=="string"?Sb(e):e.v?Ab(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}})();return Wu(t),t}function Ab(e){return{r:e.r,s:e.s,yParity:ni(e.v)}}function Sb(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=ni(n)),typeof r!="number")throw new ri({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function ni(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Bb({value:e})}class Ib extends U{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ue(dh(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class hs extends U{constructor({signature:t}){super(`Signature \`${kc(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class $b extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Cb extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class ri extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Bb extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Ob(e,t={}){return typeof e.chainId=="string"?Tb(e):{...e,...t.signature}}function Tb(e){const{address:t,chainId:n,nonce:r}=e,s=Eb(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const kb="0x8010801080108010801080108010801080108010801080108010801080108010",Rb=$u("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Zu(e){if(typeof e=="string"){if(Oe(e,-32)!==kb)throw new _b(e)}else Wu(e.authorization)}function Nb(e){Zu(e);const t=zc(Oe(e,-64,-32)),n=Oe(e,-t-64,-64),r=Oe(e,0,-t-64),[s,o,i]=M1(Rb,n);return{authorization:Ob({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function Mb(e){try{return Zu(e),!0}catch{return!1}}let _b=class extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function jb(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function zb(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Fe(e.nonce):void 0,storageProof:e.storageProof?jb(e.storageProof):void 0}}async function Fb(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?_(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return zb(a)}async function Ub(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?_(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function si(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){const i=r||"latest",a=n!==void 0?_(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,_(o)]},{dedupe:!0}):(a||i)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,_(o)]},{dedupe:!!a})),!c)throw new gc({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||ou)(c,"getTransaction")}async function Lb(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([j(e,Kn,"getBlockNumber")({}),t?j(e,si,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function cr(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new wc({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||yu)(n,"getTransactionReceipt")}async function Db(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return Kt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let b=0,p=0;for(let P=0;P<u.length;P++){const{abi:v,address:g,args:y,functionName:E}=u[P];try{const w=be({abi:v,args:y,functionName:E});p+=(w.length-2)/2,f>0&&p>f&&h[b].length>0&&(b++,p=(w.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:w,target:g}]}catch(w){const A=yt(w,{abi:v,address:g,args:y,docsPath:"/docs/contract/multicall",functionName:E,sender:n});if(!s)throw A;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:g}]}}const m=await Promise.allSettled(h.map(P=>j(e,Pe,"readContract")({...l===null?{code:To}:{address:l},abi:lr,account:n,args:[P],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),x=[];for(let P=0;P<m.length;P++){const v=m[P];if(v.status==="rejected"){if(!s)throw v.reason;for(let y=0;y<h[P].length;y++)x.push({status:"failure",error:v.reason,result:void 0});continue}const g=v.value;for(let y=0;y<g.length;y++){const{returnData:E,success:w}=g[y],{callData:A}=h[P][y],{abi:I,address:C,functionName:B,args:k}=u[x.length];try{if(A==="0x")throw new Mn;if(!w)throw new Rr({data:E});const R=Et({abi:I,args:k,data:E,functionName:B});x.push(s?{result:R,status:"success"}:R)}catch(R){const F=yt(R,{abi:I,address:C,args:k,docsPath:"/docs/contract/multicall",functionName:B});if(!s)throw F;x.push({error:F,result:void 0,status:"failure"})}}}if(x.length!==u.length)throw new S("multicall results mismatch");return x}async function ro(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?Lc(l.blockOverrides):void 0,b=l.calls.map(m=>{const x=m,P=x.account?ie(x.account):void 0,v=x.abi?be(x):x.data,g={...x,account:P,data:x.dataSuffix?ve([v||"0x",x.dataSuffix]):v,from:x.from??P?.address};return Zt(g),Gn(g)}),p=l.stateOverrides?Ro(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:b,stateOverrides:p})}const f=(typeof n=="bigint"?_(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,h)=>({...iu(l),calls:l.calls.map((b,p)=>{const{abi:m,args:x,functionName:P,to:v}=s[h].calls[p],g=b.error?.data??b.returnData,y=BigInt(b.gasUsed),E=b.logs?.map(C=>De(C)),w=b.status==="0x1"?"success":"failure",A=m&&w==="success"&&g!=="0x"?Et({abi:m,data:g,functionName:P}):null,I=(()=>{if(w==="success")return;let C;if(b.error?.data==="0x"?C=new Mn:b.error&&(C=new Rr(b.error)),!!C)return yt(C,{abi:m??[],address:v??"0x",args:x,functionName:P??"<unknown>"})})();return{data:g,gasUsed:y,logs:E,status:w,...w==="success"?{result:A}:{error:I}}})}))}catch(c){const u=c,f=_r(u,{});throw f instanceof Hn?u:f}}function so(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new U("Unable to normalize signature.");return s}function oo(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Zs(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>oo(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>oo(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Qu(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Qu(s.components,o.components,n[r]);const i=[s.type,o.type];if((()=>i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Zs(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Zs(n[r],{strict:!1}):!1)())return i}}function Yu(e,t={}){const{prepare:n=!0}=t,r=(()=>Array.isArray(e)||typeof e=="string"?Oi(e):e)();return{...r,...n?{hash:Rt(r)}:{}}}function Dr(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=lh(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Ju(u)===Oe(t,0,4):u.type==="event"?Rt(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new xr({name:t});if(i.length===1)return{...i[0],...s?{hash:Rt(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Rt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?oo(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=Qu(u.inputs,a.inputs,r);if(d)throw new Hb({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new xr({name:t});return{...c,...s?{hash:Rt(c)}:{}}}function Ju(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Dr(n,r)}return e[0]})();return Oe(Rt(t),0,4)}function qb(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Dr(r,s)}return e[0]})(),n=(()=>typeof t=="string"?t:hr(t))();return so(n)}function Rt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Dr(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Au(Oo(qb(t)))}class Hb extends U{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${so(hr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${so(hr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class xr extends U{constructor({name:t,data:n,type:r="item"}){const s=(()=>t?` with name "${t}"`:n?` with data "${n}"`:"")();super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Gb(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[Wb(o),i]}return e})(),{bytecode:r,args:s}=n;return xe(r,t.inputs?.length&&s?.length?Zo(t.inputs,s):"0x")}function Vb(e){return Yu(e)}function Wb(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new xr({name:"constructor"});return t}function Kb(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[fa(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?fa([t,...r],t.name,{args:n}):t,o=Zb(s),i=n.length>0?Zo(s.inputs,n):void 0;return i?xe(o,i):o}function Bt(e,t={}){return Yu(e,t)}function fa(e,t,n){const r=Dr(e,t,n);if(r.type!=="function")throw new xr({name:t,type:"function"});return r}function Zb(e){return Ju(e)}const Qb="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ie="0x0000000000000000000000000000000000000000",Yb="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Jb(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?ie(t.account):void 0;if(i&&!u)throw new S("`account` is required when `traceAssetChanges` is true");const f=u?Gb(Vb("constructor(bytes, bytes)"),{bytecode:Dc,args:[Yb,Kb(Bt("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async T=>{if(!T.data&&!T.abi)return;const{accessList:N}=await Qc(e,{account:u.address,...T,data:T.abi?be(T):T.data});return N.map(({address:z,storageKeys:L})=>L.length>0?z:null)})).then(T=>T.flat().filter(Boolean)):[],l=await ro(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((T,N)=>({abi:[Bt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:T,from:Ie,nonce:N})),stateOverrides:[{address:Ie,nonce:0}]}]:[],{calls:[...s,{}].map(T=>({...T,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((T,N)=>({abi:[Bt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:T,from:Ie,nonce:N})),stateOverrides:[{address:Ie,nonce:0}]},{calls:d.map((T,N)=>({to:T,abi:[Bt("function decimals() returns (uint256)")],functionName:"decimals",from:Ie,nonce:N})),stateOverrides:[{address:Ie,nonce:0}]},{calls:d.map((T,N)=>({to:T,abi:[Bt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ie,nonce:N})),stateOverrides:[{address:Ie,nonce:0}]},{calls:d.map((T,N)=>({to:T,abi:[Bt("function symbol() returns (string)")],functionName:"symbol",from:Ie,nonce:N})),stateOverrides:[{address:Ie,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?l[2]:l[0],[b,p,,m,x,P,v,g]=i?l:[],{calls:y,...E}=h,w=y.slice(0,-1)??[],A=b?.calls??[],I=p?.calls??[],C=[...A,...I].map(T=>T.status==="success"?Te(T.data):null),B=m?.calls??[],k=x?.calls??[],R=[...B,...k].map(T=>T.status==="success"?Te(T.data):null),F=(P?.calls??[]).map(T=>T.status==="success"?T.result:null),O=(g?.calls??[]).map(T=>T.status==="success"?T.result:null),$=(v?.calls??[]).map(T=>T.status==="success"?T.result:null),M=[];for(const[T,N]of R.entries()){const z=C[T];if(typeof N!="bigint"||typeof z!="bigint")continue;const L=F[T-1],q=O[T-1],me=$[T-1],ne=(()=>T===0?{address:Qb,decimals:18,symbol:"ETH"}:{address:d[T-1],decimals:me||L?Number(L??1):void 0,symbol:q??void 0})();M.some(J=>J.token.address===ne.address)||M.push({token:ne,value:{pre:z,post:N,diff:N-z}})}return{assetChanges:M,block:E,results:w}}async function Xb(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?ie(a.account):e.account,u=be({abi:n,args:s,functionName:i});try{const{data:f}=await j(e,Vn,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=Et({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw yt(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}async function qr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const Xu="0x6492649264926492649264926492649264926492649264926492649264926492";function em(e){if(Oe(e,-32)!==Xu)throw new rm(e)}function tm(e){const{data:t,signature:n,to:r}=e;return xe(Zo($u("address, bytes, bytes"),[r,t,n]),Xu)}function nm(e){try{return em(e),!0}catch{return!1}}class rm extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function sm({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Qt.Signature(Te(e),Te(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:ke(i)}async function Hr(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,i=(()=>{const a=t.signature;return we(a)?a:typeof a=="object"&&"r"in a&&"s"in a?sm(a):W(a)})();try{return Mb(i)?await om(e,{...t,multicallAddress:o,signature:i}):await im(e,{...t,verifierAddress:s,signature:i})}catch(a){try{if(Zn(ot(n),await eu({hash:r,signature:i})))return!0}catch{}if(a instanceof vt)return!1;throw a}}async function om(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=Nb(t.signature);if(await Ws(e,{address:n,blockNumber:r,blockTag:s})===Vt(["0xef0100",a.address]))return await am(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:_(a.r,{size:32}),s:_(a.s,{size:32}),yParity:a.yParity};if(!await _p({address:n,authorization:l}))throw new vt;const b=await j(e,Pe,"readContract")({...i?{address:i}:{code:To},authorizationList:[l],abi:lr,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:be({abi:Ca,functionName:"isValidSignature",args:[o,u]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new vt}async function im(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||nm(i)?i:tm({data:s,signature:i,to:r}))(),f=a?{to:a,data:be({abi:mi,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:ko({abi:mi,args:[n,o,u],bytecode:gh}),...c},{data:d}=await j(e,Vn,"call")(f).catch(l=>{throw l instanceof vc?new vt:l});if(g0(d??"0x0"))return!0;throw new vt}async function am(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await j(e,Pe,"readContract")({address:n,abi:Ca,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof xc?new vt:c})).startsWith("0x1626ba7e"))return!0;throw new vt}class vt extends Error{}async function cm(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=wu(n);return Hr(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function um(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=o1({message:i,primaryType:a,types:c,domain:u});return Hr(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}const ps=new Map,da=new Map;let fm=0;function et(e,t,n){const r=++fm,s=()=>ps.get(e)||[],o=()=>{const f=s();ps.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=da.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(ps.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=(...d)=>{const l=s();if(l.length!==0)for(const h of l)h.fns[f]?.(...d)};const u=n(c);return typeof u=="function"&&da.set(e,u),i}function Yn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await Ks(c);const u=async()=>{s&&(await e({unpoll:o}),await Ks(r),u())};u()})(),o}function ef(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=(()=>typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))();let c;return a?(()=>{const d=V(["watchBlockNumber",e.uid,t,n,i]);return et(d,{onBlockNumber:r,onError:s},l=>Yn(async()=>{try{const h=await j(e,Kn,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let b=c+1n;b<h;b++)l.onBlockNumber(b,c),c=b}(c===void 0||h>c)&&(l.onBlockNumber(h,c),c=h)}catch(h){l.onError?.(h)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=V(["watchBlockNumber",e.uid,t,n]);return et(d,{onBlockNumber:r,onError:s},l=>{let h=!0,b=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),{unsubscribe:m}=await p.subscribe({params:["newHeads"],onData(x){if(!h)return;const P=Te(x.result?.number);l.onBlockNumber(P,c),c=P},onError(x){l.onError?.(x)}});b=m,h||b()}catch(p){s?.(p)}})(),()=>b()})})()}async function dm(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:y})=>~~(1<<y)*200,timeout:c=18e4}=t,u=V(["waitForTransactionReceipt",e.uid,s]),f=(()=>t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval)();let d,l,h,b=!1,p,m;const{promise:x,resolve:P,reject:v}=Hc(),g=c?setTimeout(()=>{m?.(),p?.(),v(new El({hash:s}))},c):void 0;return p=et(u,{onReplaced:o,resolve:P,reject:v},async y=>{if(h=await j(e,cr,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(g),y.resolve(h),p?.();return}m=j(e,ef,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(E){const w=I=>{clearTimeout(g),m?.(),I(),p?.()};let A=E;if(!b)try{if(h){if(r>1&&(!h.blockNumber||A-h.blockNumber+1n<r))return;w(()=>y.resolve(h));return}if(n&&!d&&(b=!0,await yr(async()=>{d=await j(e,si,"getTransaction")({hash:s}),d.blockNumber&&(A=d.blockNumber)},{delay:a,retryCount:i}),b=!1),h=await j(e,cr,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||A-h.blockNumber+1n<r))return;w(()=>y.resolve(h))}catch(I){if(I instanceof gc||I instanceof wc){if(!d){b=!1;return}try{l=d,b=!0;const C=await yr(()=>j(e,Ce,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:R})=>R instanceof ru});b=!1;const B=C.transactions.find(({from:R,nonce:F})=>R===l.from&&F===l.nonce);if(!B||(h=await j(e,cr,"getTransactionReceipt")({hash:B.hash}),r>1&&(!h.blockNumber||A-h.blockNumber+1n<r)))return;let k="replaced";B.to===l.to&&B.value===l.value&&B.input===l.input?k="repriced":B.from===B.to&&B.value===0n&&(k="cancelled"),w(()=>{y.onReplaced?.({reason:k,replacedTransaction:l,transaction:B,transactionReceipt:h}),y.resolve(h)})}catch(C){w(()=>y.reject(C))}}else w(()=>y.reject(I))}}})}),x}function lm(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=(()=>typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))(),f=i??!1;let d;return u?(()=>{const b=V(["watchBlocks",e.uid,t,n,r,f,c]);return et(b,{onBlock:s,onError:o},p=>Yn(async()=>{try{const m=await j(e,Ce,"getBlock")({blockTag:t,includeTransactions:f});if(m.number!==null&&d?.number!=null){if(m.number===d.number)return;if(m.number-d.number>1&&n)for(let x=d?.number+1n;x<m.number;x++){const P=await j(e,Ce,"getBlock")({blockNumber:x,includeTransactions:f});p.onBlock(P,d),d=P}}(d?.number==null||t==="pending"&&m?.number==null||m.number!==null&&m.number>d.number)&&(p.onBlock(m,d),d=m)}catch(m){p.onError?.(m)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,p=!0,m=()=>b=!1;return(async()=>{try{r&&j(e,Ce,"getBlock")({blockTag:t,includeTransactions:f}).then(v=>{b&&p&&(s(v,void 0),p=!1)}).catch(o);const x=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(g=>g.config.type==="webSocket"||g.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:P}=await x.subscribe({params:["newHeads"],async onData(v){if(!b)return;const g=await j(e,Ce,"getBlock")({blockNumber:v.result?.number,includeTransactions:f}).catch(()=>{});b&&(s(g,d),p=!1,d=g)},onError(v){o?.(v)}});m=P,b||m()}catch(x){o?.(x)}})(),()=>m()})()}function hm(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(()=>typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))()?(()=>{const m=l??!1,x=V(["watchContractEvent",r,s,o,e.uid,i,d,m,a]);return et(x,{onLogs:u,onError:c},P=>{let v;a!==void 0&&(v=a-1n);let g,y=!1;const E=Yn(async()=>{if(!y){try{g=await j(e,Yc,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:m,fromBlock:a})}catch{}y=!0;return}try{let w;if(g)w=await j(e,Fr,"getFilterChanges")({filter:g});else{const A=await j(e,Kn,"getBlockNumber")({});v&&v<A?w=await j(e,pu,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:v+1n,toBlock:A,strict:m}):w=[],v=A}if(w.length===0)return;if(o)P.onLogs(w);else for(const A of w)P.onLogs([A])}catch(w){g&&w instanceof bt&&(y=!1),P.onError?.(w)}},{emitOnBegin:!0,interval:d});return async()=>{g&&await j(e,qr,"uninstallFilter")({filter:g}),E()}})})():(()=>{const m=l??!1,x=V(["watchContractEvent",r,s,o,e.uid,i,d,m]);let P=!0,v=()=>P=!1;return et(x,{onLogs:u,onError:c},g=>((async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return A?A.value:e.transport}return e.transport})(),E=i?Wn({abi:n,eventName:i,args:s}):[],{unsubscribe:w}=await y.subscribe({params:["logs",{address:r,topics:E}],onData(A){if(!P)return;const I=A.result;try{const{eventName:C,args:B}=qo({abi:n,data:I.data,topics:I.topics,strict:l}),k=De(I,{args:B,eventName:C});g.onLogs([k])}catch(C){let B,k;if(C instanceof rn||C instanceof $r){if(l)return;B=C.abiItem.name,k=C.abiItem.inputs?.some(F=>!("name"in F&&F.name))}const R=De(I,{args:k?[]:{},eventName:B});g.onLogs([R])}},onError(A){g.onError?.(A)}});v=w,P||v()}catch(y){c?.(y)}})(),()=>v()))})()}function pm(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=(()=>typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))(),h=d??!1;return l?(()=>{const m=V(["watchEvent",t,n,r,e.uid,s,f,i]);return et(m,{onLogs:c,onError:a},x=>{let P;i!==void 0&&(P=i-1n);let v,g=!1;const y=Yn(async()=>{if(!g){try{v=await j(e,Jc,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}g=!0;return}try{let E;if(v)E=await j(e,Fr,"getFilterChanges")({filter:v});else{const w=await j(e,Kn,"getBlockNumber")({});P&&P!==w?E=await j(e,Go,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:P+1n,toBlock:w}):E=[],P=w}if(E.length===0)return;if(r)x.onLogs(E);else for(const w of E)x.onLogs([w])}catch(E){v&&E instanceof bt&&(g=!1),x.onError?.(E)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await j(e,qr,"uninstallFilter")({filter:v}),y()}})})():(()=>{let m=!0,x=()=>m=!1;return(async()=>{try{const P=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),v=o??(s?[s]:void 0);let g=[];v&&(g=[v.flatMap(w=>Wn({abi:[w],eventName:w.name,args:n}))],s&&(g=g[0]));const{unsubscribe:y}=await P.subscribe({params:["logs",{address:t,topics:g}],onData(E){if(!m)return;const w=E.result;try{const{eventName:A,args:I}=qo({abi:v??[],data:w.data,topics:w.topics,strict:h}),C=De(w,{args:I,eventName:A});c([C])}catch(A){let I,C;if(A instanceof rn||A instanceof $r){if(d)return;I=A.abiItem.name,C=A.abiItem.inputs?.some(k=>!("name"in k&&k.name))}const B=De(w,{args:C?[]:{},eventName:I});c([B])}},onError(E){a?.(E)}});x=y,m||x()}catch(P){a?.(P)}})(),()=>x()})()}function bm(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=V(["watchPendingTransactions",e.uid,t,o]);return et(u,{onTransactions:r,onError:n},f=>{let d;const l=Yn(async()=>{try{if(!d)try{d=await j(e,Xc,"createPendingTransactionFilter")({});return}catch(b){throw l(),b}const h=await j(e,Fr,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)f.onTransactions(h);else for(const b of h)f.onTransactions([b])}catch(h){f.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await j(e,qr,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}class tf extends S{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class bs extends S{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function nf(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const ms=new Br(128);async function mm(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:o,blobs:i,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,type:b,value:p,...m}=t;if(typeof n>"u")throw new tf({docsPath:"/docs/actions/wallet/sendTransaction"});const x=n?ie(n):null;try{Zt(t);const P=await(async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await _o({authorization:o[0]}).catch(()=>{throw new S("`to` is required. Could not infer from `authorizationList`.")})})();if(x?.type==="json-rpc"||x===null){let v;r!==null&&(v=await j(e,Uo,"getChainId")({}),Vp({currentChainId:v,chain:r}));const g=e.chain?.formatters?.transactionRequest?.format,E=(g||Gn)({...jr(m,{format:g}),accessList:s,account:x,authorizationList:o,blobs:i,chainId:v,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,to:P,type:b,value:p},"sendTransaction"),w=ms.get(e.uid),A=w?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:A,params:[E]},{retryCount:0})}catch(I){if(w===!1)throw I;const C=I;if(C.name==="InvalidInputRpcError"||C.name==="InvalidParamsRpcError"||C.name==="MethodNotFoundRpcError"||C.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[E]},{retryCount:0}).then(B=>(ms.set(e.uid,!0),B)).catch(B=>{const k=B;throw k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError"?(ms.set(e.uid,!1),C):k});throw C}}if(x?.type==="local"){const v=await j(e,Lo,"prepareTransactionRequest")({account:x,accessList:s,authorizationList:o,blobs:i,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,nonceManager:x.nonceManager,parameters:[...hu,"sidecars"],type:b,value:p,...m,to:P}),g=r?.serializers?.transaction,y=await x.signTransaction(v,{serializer:g});return await j(e,nf,"sendRawTransaction")({serializedTransaction:y})}throw x?.type==="smart"?new bs({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new bs({docsPath:"/docs/actions/wallet/sendTransaction",type:x?.type})}catch(P){throw P instanceof bs?P:Wp(P,{...t,account:x,chain:t.chain||void 0})}}async function ym(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,_(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||yu)(s);if(i.status==="reverted"&&n)throw new xl({receipt:i});return i}async function Er(e,t){return Er.internal(e,mm,"sendTransaction",t)}(function(e){async function t(n,r,s,o){const{abi:i,account:a=n.account,address:c,args:u,dataSuffix:f,functionName:d,...l}=o;if(typeof a>"u")throw new tf({docsPath:"/docs/contract/writeContract"});const h=a?ie(a):null,b=be({abi:i,args:u,functionName:d});try{return await j(n,r,s)({data:`${b}${f?f.replace("0x",""):""}`,to:c,account:h,...l})}catch(p){throw yt(p,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:d,sender:h?.address})}}e.internal=t})(Er||(Er={}));function gm(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const ur="2.22.1",wm=()=>`@wagmi/core@${ur}`;var rf=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Pr,sf;let nt=class io extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return wm()}constructor(t,n={}){super(),Pr.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof io?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof io&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return rf(this,Pr,"m",sf).call(this,this,t)}};Pr=new WeakSet,sf=function e(t,n){return n?.(t)?t:t.cause?rf(this,Pr,"m",e).call(this,t.cause,n):t};class ao extends nt{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class vm extends nt{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class xm extends nt{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Em extends nt{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Pm extends nt{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Am extends nt{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Sm(e,t){let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new vm;try{e.setState(i=>({...i,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=t,o=await n.connect(s);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(i=>({...i,connections:new Map(i.connections).set(n.uid,{accounts:s.withCapabilities?o.accounts.map(a=>typeof a=="object"?a.address:a):o.accounts,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s.withCapabilities?o.accounts.map(i=>typeof i=="object"?i:{address:i,capabilities:{}}):o.accounts,chainId:o.chainId}}catch(r){throw e.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}const co=256;let nr=co,rr;function of(e=11){if(!rr||nr+e>co*2){rr="",nr=0;for(let t=0;t<co;t++)rr+=(256+Math.random()*256|0).toString(16).substring(1)}return rr.substring(nr,nr+++e)}function af(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?ie(e.account):void 0,{config:h,request:b,value:p}=e.transport({chain:n,pollingInterval:f}),m={...h,...p},x={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:b,transport:m,type:i,uid:of(),...a?{experimental_blockTag:a}:{}};function P(v){return g=>{const y=g(v);for(const w in x)delete y[w];const E={...v,...y};return Object.assign(E,{extend:P(E)})}}return Object.assign(x,{extend:P(x)})}function Im(e){const{scheme:t,statement:n,...r}=e.match($m)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(Cm)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const $m=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Cm=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Bm(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!pe(r.address,{strict:!1})||t&&!Zn(r.address,t))return!1}catch{return!1}return!0}async function Om(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=Im(s);if(!f.address||!Bm({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=wu(s);return Hr(e,{address:f.address,hash:l,signature:a,...u})}function Tm(e){return{call:t=>Vn(e,t),createAccessList:t=>Qc(e,t),createBlockFilter:()=>qh(e),createContractEventFilter:t=>Yc(e,t),createEventFilter:t=>Jc(e,t),createPendingTransactionFilter:()=>Xc(e),estimateContractGas:t=>wp(e,t),estimateGas:t=>Do(e,t),getBalance:t=>vp(e,t),getBlobBaseFee:()=>xp(e),getBlock:t=>Ce(e,t),getBlockNumber:t=>Kn(e,t),getBlockTransactionCount:t=>$p(e,t),getBytecode:t=>Ws(e,t),getChainId:()=>Uo(e),getCode:t=>Ws(e,t),getContractEvents:t=>pu(e,t),getEip712Domain:t=>Tp(e,t),getEnsAddress:t=>$h(e,t),getEnsAvatar:t=>Uh(e,t),getEnsName:t=>Lh(e,t),getEnsResolver:t=>Dh(e,t),getEnsText:t=>Zc(e,t),getFeeHistory:t=>Np(e,t),estimateFeesPerGas:t=>rp(e,t),getFilterChanges:t=>Fr(e,t),getFilterLogs:t=>Mp(e,t),getGasPrice:()=>zo(e),getLogs:t=>Go(e,t),getProof:t=>Fb(e,t),estimateMaxPriorityFeePerGas:t=>np(e,t),getStorageAt:t=>Ub(e,t),getTransaction:t=>si(e,t),getTransactionConfirmations:t=>Lb(e,t),getTransactionCount:t=>cu(e,t),getTransactionReceipt:t=>cr(e,t),multicall:t=>Db(e,t),prepareTransactionRequest:t=>Lo(e,t),readContract:t=>Pe(e,t),sendRawTransaction:t=>nf(e,t),sendRawTransactionSync:t=>ym(e,t),simulate:t=>ro(e,t),simulateBlocks:t=>ro(e,t),simulateCalls:t=>Jb(e,t),simulateContract:t=>Xb(e,t),verifyHash:t=>Hr(e,t),verifyMessage:t=>cm(e,t),verifySiweMessage:t=>Om(e,t),verifyTypedData:t=>um(e,t),uninstallFilter:t=>qr(e,t),waitForTransactionReceipt:t=>dm(e,t),watchBlocks:t=>lm(e,t),watchBlockNumber:t=>ef(e,t),watchContractEvent:t=>hm(e,t),watchEvent:t=>pm(e,t),watchPendingTransactions:t=>bm(e,t)}}function cf({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=of();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:zp(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function km(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>cf({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}class Rm extends S{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function rg(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=t;return({chain:l,retryCount:h,timeout:b})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},x=t.retryCount??h,P=b??t.timeout??1e4,v=e||l?.rpcUrls.default.http[0];if(!v)throw new Rm;const g=Qp(v,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:P});return cf({key:o,methods:i,name:a,async request({method:y,params:E}){const w={method:y,params:E},{schedule:A}=Gc({id:v,wait:m,shouldSplitBatch(k){return k.length>p},fn:k=>g.request({body:k}),sort:(k,R)=>k.id-R.id}),I=async k=>n?A(k):[await g.request({body:k})],[{error:C,result:B}]=await I(w);if(d)return{error:C,result:B};if(C)throw new $o({body:w,error:C,url:v});return B},retryCount:x,retryDelay:f,timeout:P,type:"http"},{fetchOptions:s,url:v})}}async function Nm(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:f}=t;if(e.state.status==="reconnecting"&&!f.getAccounts&&!f.getChainId)throw new Am({connector:f});const[d,l]=await Promise.all([f.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),f.getChainId()]);r={accounts:d,chainId:l,connector:f}}else r=e.state.connections.get(e.state.current);if(!r)throw new xm;const s=t.chainId??r.chainId,o=await r.connector.getChainId();if(n&&o!==s)throw new Pm({connectionChainId:s,connectorChainId:o});const i=r.connector;if(i.getClient)return i.getClient({chainId:s});const a=ie(t.account??r.accounts[0]);if(a&&(a.address=ot(a.address)),t.account&&!r.accounts.some(f=>f.toLowerCase()===a.address.toLowerCase()))throw new Em({address:a.address,connector:i});const c=e.chains.find(f=>f.id===s),u=await r.connector.getProvider({chainId:s});return af({account:a,chain:c,name:"Connector Client",transport:f=>km(u)({...f,retryCount:0})})}async function Mm(e,t={}){let n;if(t.connector)n=t.connector;else{const{connections:s,current:o}=e.state;n=s.get(o)?.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const o=r.values().next().value;return{...s,connections:new Map(r),current:o.connector.uid}});{const s=e.state.current;if(!s)return;const o=e.state.connections.get(s)?.connector;if(!o)return;await e.storage?.setItem("recentConnectorId",o.id)}}function uf(e){const t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,s=r?.[0],o=e.chains.find(a=>a.id===n?.chainId),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}function Dt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Dt(e[r],t[r]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(o&&!Dt(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function _m(e,t={}){try{return e.getClient(t)}catch{return}}let sr=[];function uo(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Dt(sr,t)?sr:(sr=t,t)}let or=[];function la(e){const t=e.connectors;return or.length===t.length&&or.every((n,r)=>n===t[r])?or:(or=t,t)}function fo(e,t={}){return _m(e,t)?.extend(Tm)}let ys=!1;async function jm(e,t={}){if(ys)return[];ys=!0,e.setState(u=>({...u,status:u.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const u of t.connectors){let f;typeof u=="function"?f=e._internal.connectors.setup(u):f=u,n.push(f)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,u]of e.state.connections)s[u.connector.id]=1;r&&(s[r]=0);const o=Object.keys(s).length>0?[...n].sort((u,f)=>(s[u.id]??10)-(s[f.id]??10)):n;let i=!1;const a=[],c=[];for(const u of o){const f=await u.getProvider().catch(()=>{});if(!f||c.some(h=>h===f)||!await u.isAuthorized())continue;const l=await u.connect({isReconnecting:!0}).catch(()=>null);l&&(u.emitter.off("connect",e._internal.events.connect),u.emitter.on("change",e._internal.events.change),u.emitter.on("disconnect",e._internal.events.disconnect),e.setState(h=>{const b=new Map(i?h.connections:new Map).set(u.uid,{accounts:l.accounts,chainId:l.chainId,connector:u});return{...h,current:i?h.current:u.uid,connections:b}}),a.push({accounts:l.accounts,chainId:l.chainId,connector:u}),c.push(f),i=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(i?e.setState(u=>({...u,status:"connected"})):e.setState(u=>({...u,connections:new Map,current:null,status:"disconnected"}))),ys=!1,a}class Ot extends nt{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function zm(e,t){const{onChange:n}=t;return e.subscribe(()=>uf(e),n,{equalityFn(r,s){const{connector:o,...i}=r,{connector:a,...c}=s;return Dt(i,c)&&o?.id===a?.id&&o?.uid===a?.uid}})}function Fm(e,t){const{onChange:n}=t;return e.subscribe(()=>uo(e),n,{equalityFn:Dt})}function Um(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function Lm(e,t){const{onChange:n}=t;return e.subscribe(()=>fo(e),n,{equalityFn(r,s){return r?.uid===s?.uid}})}async function Dm(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;return typeof n=="object"&&n?.type==="local"?i=e.getClient({chainId:r}):i=await Nm(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s}),await gm(i,Er,"writeContract")({...o,...n?{account:n}:{},chain:r?{id:r}:null})}oi.type="injected";function oi(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...qm[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u?.ethereum}}}let s,o,i,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:oi.type,async setup(){const u=await this.getProvider();u?.on&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f,withCapabilities:d}={}){const l=await this.getProvider();if(!l)throw new Ot;let h=[];if(f)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(await l.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>ot(p)),h.length>0&&(h=await this.getAccounts())}catch(b){const p=b;if(p.code===X.code)throw new X(p);if(p.code===Qe.code)throw p}try{!h?.length&&!f&&(h=(await l.request({method:"eth_requestAccounts"})).map(m=>ot(m))),i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a));let b=await this.getChainId();return u&&b!==u&&(b=(await this.switchChain({chainId:u}).catch(m=>{if(m.code===X.code)throw m;return{id:b}}))?.id??b),t&&await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0),{accounts:d?h.map(p=>({address:p,capabilities:{}})):h,chainId:b}}catch(b){const p=b;throw p.code===X.code?new X(p):p.code===Qe.code?new Qe(p):p}},async disconnect(){const u=await this.getProvider();if(!u)throw new Ot;o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await gu(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const u=await this.getProvider();if(!u)throw new Ot;return(await u.request({method:"eth_accounts"})).map(d=>ot(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new Ot;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=fr(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){try{if(t&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const l=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",l),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(p=>window.addEventListener("ethereum#initialized",()=>p(l()),{once:!0}))]:[],new Promise(p=>setTimeout(()=>p(l()),h))]))return!0}throw new Ot}return!!(await yr(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){const d=await this.getProvider();if(!d)throw new Ot;const l=c.chains.find(b=>b.id===f);if(!l)throw new mt(new ao);const h=new Promise(b=>{const p=m=>{"chainId"in m&&m.chainId===f&&(c.emitter.off("change",p),b())};c.emitter.on("change",p)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:_(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),h]),l}catch(b){const p=b;if(p.code===4902||p?.data?.originalError?.code===4902)try{const{default:m,...x}=l.blockExplorers??{};let P;u?.blockExplorerUrls?P=u.blockExplorerUrls:m&&(P=[m.url,...Object.values(x).map(y=>y.url)]);let v;u?.rpcUrls?.length?v=u.rpcUrls:v=[l.rpcUrls.default?.http[0]??""];const g={blockExplorerUrls:P,chainId:_(f),chainName:u?.chainName??l.name,iconUrls:u?.iconUrls,nativeCurrency:u?.nativeCurrency??l.nativeCurrency,rpcUrls:v};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[g]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new X(new Error("User rejected switch after adding network."))}),h]),l}catch(m){throw new X(m)}throw p.code===X.code?new X(p):new mt(p)}},async onAccountsChanged(u){if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),t&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:u.map(f=>ot(f))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:d});const l=await this.getProvider();l&&(i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(o&&(f.removeListener("chainChanged",o),o=void 0),a&&(f.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),f.on("connect",i))))}})}const qm={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:fr(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return fr(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:fr(e,"isPhantom")}}};function fr(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Hm(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Gm(){const e=new Set;let t=[];const n=()=>Hm(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const Vm=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const f=c?.equalityFn||Object.is;let d=i(r.getState());u=l=>{const h=i(l);if(!f(d,h)){const b=d;a(d=h,b)}},c?.fireImmediately&&a(d,d)}return s(u)},e(t,n,r)},Wm=Vm;function Km(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,t?.reviver),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,t?.replacer)),removeItem:s=>n.removeItem(s)}}const lo=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return lo(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return lo(r)(n)}}}},Zm=(e,t)=>(n,r,s)=>{let o={storage:Km(()=>localStorage),partialize:p=>p,version:0,merge:(p,m)=>({...m,...p}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...p)},r,s);const f=()=>{const p=o.partialize({...r()});return u.setItem(o.name,{state:p,version:o.version})},d=s.setState;s.setState=(p,m)=>{d(p,m),f()};const l=e((...p)=>{n(...p),f()},r,s);s.getInitialState=()=>l;let h;const b=()=>{var p,m;if(!u)return;i=!1,a.forEach(P=>{var v;return P((v=r())!=null?v:l)});const x=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(p=r())!=null?p:l))||void 0;return lo(u.getItem.bind(u))(o.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==o.version){if(o.migrate)return[!0,o.migrate(P.state,P.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var v;const[g,y]=P;if(h=o.merge(y,(v=r())!=null?v:l),n(h,!0),g)return f()}).then(()=>{x?.(h,void 0),h=r(),i=!0,c.forEach(P=>P(h))}).catch(P=>{x?.(void 0,P)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||b(),h||l},Qm=Zm,ha=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const l=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(h=>h(t,l))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},gs=e=>e?ha(e):ha;var ff={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,d,l){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,d||c,l),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],h]:c._events[b].push(h):(c._events[b]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var l=0,h=d.length,b=new Array(h);l<h;l++)b[l]=d[l].fn;return b},a.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,f,d,l,h,b){var p=n?n+u:u;if(!this._events[p])return!1;var m=this._events[p],x=arguments.length,P,v;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),x){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,d),!0;case 4:return m.fn.call(m.context,f,d,l),!0;case 5:return m.fn.call(m.context,f,d,l,h),!0;case 6:return m.fn.call(m.context,f,d,l,h,b),!0}for(v=1,P=new Array(x-1);v<x;v++)P[v-1]=arguments[v];m.fn.apply(m.context,P)}else{var g=m.length,y;for(v=0;v<g;v++)switch(m[v].once&&this.removeListener(u,m[v].fn,void 0,!0),x){case 1:m[v].fn.call(m[v].context);break;case 2:m[v].fn.call(m[v].context,f);break;case 3:m[v].fn.call(m[v].context,f,d);break;case 4:m[v].fn.call(m[v].context,f,d,l);break;default:if(!P)for(y=1,P=new Array(x-1);y<x;y++)P[y-1]=arguments[y];m[v].fn.apply(m[v].context,P)}}return!0},a.prototype.on=function(u,f,d){return o(this,u,f,d,!1)},a.prototype.once=function(u,f,d){return o(this,u,f,d,!0)},a.prototype.removeListener=function(u,f,d,l){var h=n?n+u:u;if(!this._events[h])return this;if(!f)return i(this,h),this;var b=this._events[h];if(b.fn)b.fn===f&&(!l||b.once)&&(!d||b.context===d)&&i(this,h);else{for(var p=0,m=[],x=b.length;p<x;p++)(b[p].fn!==f||l&&!b[p].once||d&&b[p].context!==d)&&m.push(b[p]);m.length?this._events[h]=m.length===1?m[0]:m:i(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&i(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(ff);var Ym=ff.exports;const Jm=gf(Ym);class Xm{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Jm})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function ey(e){return new Xm(e)}function ty(e,t){return JSON.parse(e,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),t?.(n,s)??s})}function pa(e,t){return e.slice(0,t).join(".")||"."}function ba(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function ny(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=ba(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const f=ba(s,c);if(f!==0)return r?t.call(this,a,c,pa(o,f)):`[ref=${pa(o,f)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function ry(e,t,n,r){return JSON.stringify(e,ny((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),t?.(s,i)??i},r),n??void 0)}function sy(e){const{deserialize:t=ty,key:n="wagmi",serialize:r=ry,storage:s=df}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const c=s.getItem(`${n}.${i}`),u=await o(c);return u?t(u)??null:a??null},async setItem(i,a){const c=`${n}.${i}`;a===null?await o(s.removeItem(c)):await o(s.setItem(c,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const df={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function oy(){const e=(()=>typeof window<"u"&&window.localStorage?window.localStorage:df)();return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const ho=256;let ir=ho,ar;function iy(e=11){if(!ar||ir+e>ho*2){ar="",ir=0;for(let t=0;t<ho;t++)ar+=(256+Math.random()*256|0).toString(16).substring(1)}return ar.substring(ir,ir+++e)}function sg(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=sy({storage:oy()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,i=typeof window<"u"&&t?Gm():void 0,a=gs(()=>o.chains),c=gs(()=>{const y=[],E=new Set;for(const w of o.connectors??[]){const A=u(w);if(y.push(A),!s&&A.rdns){const I=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const C of I)E.add(C)}}if(!s&&i){const w=i.getProviders();for(const A of w)E.has(A.info.rdns)||y.push(u(f(A)))}return y});function u(y){const E=ey(iy()),w={...y({emitter:E,chains:a.getState(),storage:n,transports:o.transports}),emitter:E,uid:E.uid};return E.on("connect",v),w.setup?.(),w}function f(y){const{info:E}=y,w=y.provider;return oi({target:{...E,id:E.rdns,provider:w}})}const d=new Map;function l(y={}){const E=y.chainId??m.getState().chainId,w=a.getState().find(I=>I.id===E);if(y.chainId&&!w)throw new ao;{const I=d.get(m.getState().chainId);if(I&&!w)return I;if(!w)throw new ao}{const I=d.get(E);if(I)return I}let A;if(o.client)A=o.client({chain:w});else{const I=w.id,C=a.getState().map(R=>R.id),B={},k=Object.entries(o);for(const[R,F]of k)if(!(R==="chains"||R==="client"||R==="connectors"||R==="transports"))if(typeof F=="object")if(I in F)B[R]=F[I];else{if(C.some($=>$ in F))continue;B[R]=F}else B[R]=F;A=af({...B,chain:w,batch:B.batch??{multicall:!0},transport:R=>o.transports[I]({...R,connectors:c})})}return d.set(E,A),A}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const p="0.0.0-canary-";ur.startsWith(p)?b=Number.parseInt(ur.replace(p,""),10):b=Number.parseInt(ur.split(".")[0]??"0",10);const m=gs(Wm(n?Qm(h,{migrate(y,E){if(E===b)return y;const w=h(),A=x(y,w.chainId);return{...w,chainId:A}},name:"store",partialize(y){return{connections:{__type:"Map",value:Array.from(y.connections.entries()).map(([E,w])=>{const{id:A,name:I,type:C,uid:B}=w.connector;return[E,{...w,connector:{id:A,name:I,type:C,uid:B}}]})},chainId:y.chainId,current:y.current}},merge(y,E){typeof y=="object"&&y&&"status"in y&&delete y.status;const w=x(y,E.chainId);return{...E,...y,chainId:w}},skipHydration:s,storage:n,version:b}):h));m.setState(h());function x(y,E){return y&&typeof y=="object"&&"chainId"in y&&typeof y.chainId=="number"&&a.getState().some(w=>w.id===y.chainId)?y.chainId:E}r&&m.subscribe(({connections:y,current:E})=>E?y.get(E)?.chainId:void 0,y=>{if(a.getState().some(w=>w.id===y))return m.setState(w=>({...w,chainId:y??w.chainId}))}),i?.subscribe(y=>{const E=new Set,w=new Set;for(const I of c.getState())if(E.add(I.id),I.rdns){const C=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const B of C)w.add(B)}const A=[];for(const I of y){if(w.has(I.info.rdns))continue;const C=u(f(I));E.has(C.id)||A.push(C)}n&&!m.persist.hasHydrated()||c.setState(I=>[...I,...A],!0)});function P(y){m.setState(E=>{const w=E.connections.get(y.uid);return w?{...E,connections:new Map(E.connections).set(y.uid,{accounts:y.accounts??w.accounts,chainId:y.chainId??w.chainId,connector:w.connector})}:E})}function v(y){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(E=>{const w=c.getState().find(A=>A.uid===y.uid);return w?(w.emitter.listenerCount("connect")&&w.emitter.off("connect",P),w.emitter.listenerCount("change")||w.emitter.on("change",P),w.emitter.listenerCount("disconnect")||w.emitter.on("disconnect",g),{...E,connections:new Map(E.connections).set(y.uid,{accounts:y.accounts,chainId:y.chainId,connector:w}),current:y.uid,status:"connected"}):E})}function g(y){m.setState(E=>{const w=E.connections.get(y.uid);if(w){const I=w.connector;I.emitter.listenerCount("change")&&w.connector.emitter.off("change",P),I.emitter.listenerCount("disconnect")&&w.connector.emitter.off("disconnect",g),I.emitter.listenerCount("connect")||w.connector.emitter.on("connect",v)}if(E.connections.delete(y.uid),E.connections.size===0)return{...E,connections:new Map,current:null,status:"disconnected"};const A=E.connections.values().next().value;return{...E,connections:new Map(E.connections),current:A.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:l,get state(){return m.getState()},setState(y){let E;typeof y=="function"?E=y(m.getState()):E=y;const w=h();typeof E!="object"&&(E=w),Object.keys(w).some(I=>!(I in E))&&(E=w),m.setState(E,!0)},subscribe(y,E,w){return m.subscribe(y,E,w?{...w,fireImmediately:w.emitImmediately}:void 0)},_internal:{mipd:i,async revalidate(){const y=m.getState(),E=y.connections;let w=y.current;for(const[,A]of E){const I=A.connector;I.isAuthorized&&await I.isAuthorized()||(E.delete(I.uid),w===I.uid&&(w=null))}m.setState(A=>({...A,connections:E,current:w}))},store:m,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(y){const E=typeof y=="function"?y(a.getState()):y;if(E.length!==0)return a.setState(E,!0)},subscribe(y){return a.subscribe(y)}},connectors:{providerDetailToConnector:f,setup:u,setState(y){return c.setState(typeof y=="function"?y(c.getState()):y,!0)},subscribe(y){return c.subscribe(y)}},events:{change:P,connect:v,disconnect:g}}}}function ay(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{const o=new Set;for(const c of s??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const f of u)o.add(f)}const i=[],a=e._internal.mipd?.getProviders()??[];for(const c of a){if(o.has(c.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(c),f=e._internal.connectors.setup(u);i.push(f)}return[...s,...i]})),r?jm(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function cy(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:o}=ay(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||o();const i=H.useRef(!0);return H.useEffect(()=>{if(i.current&&n._internal.ssr)return o(),()=>{i.current=!1}},[]),t}const lf=H.createContext(void 0);function og(e){const{children:t,config:n}=e,r={value:n};return H.createElement(cy,e,H.createElement(lf.Provider,r,t))}const uy="2.18.2",fy=()=>`wagmi@${uy}`;class dy extends nt{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return fy()}}class ly extends dy{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function At(e={}){const t=e.config??H.useContext(lf);if(!t)throw new ly;return t}var hf={exports:{}},pf={},bf={exports:{}},mf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt=H;function hy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var py=typeof Object.is=="function"?Object.is:hy,by=qt.useState,my=qt.useEffect,yy=qt.useLayoutEffect,gy=qt.useDebugValue;function wy(e,t){var n=t(),r=by({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return yy(function(){s.value=n,s.getSnapshot=t,ws(s)&&o({inst:s})},[e,n,t]),my(function(){return ws(s)&&o({inst:s}),e(function(){ws(s)&&o({inst:s})})},[e]),gy(n),n}function ws(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!py(e,n)}catch{return!0}}function vy(e,t){return t()}var xy=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vy:wy;mf.useSyncExternalStore=qt.useSyncExternalStore!==void 0?qt.useSyncExternalStore:xy;bf.exports=mf;var Ey=bf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=H,Py=Ey;function Ay(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sy=typeof Object.is=="function"?Object.is:Ay,Iy=Py.useSyncExternalStore,$y=Gr.useRef,Cy=Gr.useEffect,By=Gr.useMemo,Oy=Gr.useDebugValue;pf.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=$y(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=By(function(){function c(h){if(!u){if(u=!0,f=h,h=r(h),s!==void 0&&i.hasValue){var b=i.value;if(s(b,h))return d=b}return d=h}if(b=d,Sy(f,h))return b;var p=r(h);return s!==void 0&&s(b,p)?(f=h,b):(f=h,d=p)}var u=!1,f,d,l=n===void 0?null:n;return[function(){return c(t())},l===null?void 0:function(){return c(l())}]},[t,n,r,s]);var a=Iy(e,o[0],o[1]);return Cy(function(){i.hasValue=!0,i.value=a},[a]),Oy(a),a};hf.exports=pf;var yf=hf.exports;const vs=e=>typeof e=="object"&&!Array.isArray(e);function Ty(e,t,n=t,r=Dt){const s=H.useRef([]),o=yf.useSyncExternalStoreWithSelector(e,t,n,i=>i,(i,a)=>{if(vs(i)&&vs(a)&&s.current.length){for(const c of s.current)if(!r(i[c],a[c]))return!1;return!0}return r(i,a)});return H.useMemo(()=>{if(vs(o)){const i={...o};let a={};for(const[c,u]of Object.entries(i))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(i,a),i}return o},[o])}function ig(e={}){const t=At(e);return Ty(n=>zm(t,{onChange:n}),()=>uf(t))}function ky(e){return{mutationFn(t){return Sm(e,t)},mutationKey:["connect"]}}function Ry(e){return{mutationFn(t){return Mm(e,t)},mutationKey:["disconnect"]}}function Ny(e){return{mutationFn(t){return Dm(e,t)},mutationKey:["writeContract"]}}function My(e={}){const t=At(e);return H.useSyncExternalStore(n=>Um(t,{onChange:n}),()=>la(t),()=>la(t))}function ag(e={}){const{mutation:t}=e,n=At(e),r=ky(n),{mutate:s,mutateAsync:o,...i}=mo({...t,...r});return H.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&i.reset()}),[n,i.reset]),{...i,connect:s,connectAsync:o,connectors:My({config:n})}}function _y(e={}){const t=At(e);return H.useSyncExternalStore(n=>Fm(t,{onChange:n}),()=>uo(t),()=>uo(t))}function cg(e={}){const{mutation:t}=e,n=At(e),r=Ry(n),{mutate:s,mutateAsync:o,...i}=mo({...t,...r});return{...i,connectors:_y({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:o}}function ug(e={}){const t=At(e);return yf.useSyncExternalStoreWithSelector(n=>Lm(t,{onChange:n}),()=>fo(t,e),()=>fo(t,e),n=>n,(n,r)=>n?.uid===r?.uid)}function fg(e={}){const{mutation:t}=e,n=At(e),r=Ny(n),{mutate:s,mutateAsync:o,...i}=mo({...t,...r});return{...i,writeContract:s,writeContractAsync:o}}export{zy as Q,og as W,Ac as _,ag as a,cg as b,ug as c,tg as d,fg as e,sg as f,Fy as g,rg as h,oi as i,Sf as j,ig as u};
